  


<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>enchant.js/enchant.min.js at master 路 wise9/enchant.js 路 GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="apple-touch-icon-114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="apple-touch-icon-114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="apple-touch-icon-144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="apple-touch-icon-144.png" />
    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">

    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <meta content="authenticity_token" name="csrf-param" />
<meta content="J9Elj/3bPKMJ6Qb9PHfmMkmemztxoRiEtpxTuKZowss=" name="csrf-token" />

    <link href="https://a248.e.akamai.net/assets.github.com/assets/github-cfca8eb8e80a2c3bce67464f1c85defd532c0afd.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="https://a248.e.akamai.net/assets.github.com/assets/github2-6fb37f4beb26b76fec8bcd25a34a112492a75cd5.css" media="screen" rel="stylesheet" type="text/css" />
    


    <script src="https://a248.e.akamai.net/assets.github.com/assets/frameworks-eee761b9d5e06efb064aaaf528c44ef8e1601e71.js" type="text/javascript"></script>
    <script src="https://a248.e.akamai.net/assets.github.com/assets/github-0b7c3ee2abbfb9ae7acd237bdff502a633805557.js" type="text/javascript"></script>
    

        <link rel='permalink' href='/wise9/enchant.js/blob/960249b6b4b10442981cee155489b68973379a71/enchant.min.js'>
    <meta property="og:title" content="enchant.js"/>
    <meta property="og:type" content="githubog:gitrepository"/>
    <meta property="og:url" content="https://github.com/wise9/enchant.js"/>
    <meta property="og:image" content="https://secure.gravatar.com/avatar/ae2d042960c8b96cf3581242d9962f0d?s=420&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png"/>
    <meta property="og:site_name" content="GitHub"/>
    <meta property="og:description" content="Simple Game Engine on HTML5/JavaScript. Contribute to enchant.js development by creating an account on GitHub."/>

    <meta name="description" content="Simple Game Engine on HTML5/JavaScript. Contribute to enchant.js development by creating an account on GitHub." />

  <link href="https://github.com/wise9/enchant.js/commits/master.atom" rel="alternate" title="Recent Commits to enchant.js:master" type="application/atom+xml" />

  </head>


  <body class="logged_out page-blob  vis-public env-production ">
    <div id="wrapper">

      

      

      


        <div class="header header-logged-out">
          <div class="container clearfix">

            <a class="header-logo-wordmark" href="https://github.com/">
              <img alt="GitHub" class="github-logo-4x" height="30" src="https://a248.e.akamai.net/assets.github.com/images/modules/header/logov7@4x.png?1340659511" />
              <img alt="GitHub" class="github-logo-4x-hover" height="30" src="https://a248.e.akamai.net/assets.github.com/images/modules/header/logov7@4x-hover.png?1340659511" />
            </a>

              
<ul class="top-nav">
    <li class="explore"><a href="https://github.com/explore">Explore GitHub</a></li>
  <li class="search"><a href="https://github.com/search">Search</a></li>
  <li class="features"><a href="https://github.com/features">Features</a></li>
    <li class="blog"><a href="https://github.com/blog">Blog</a></li>
</ul>


            <div class="header-actions">
                <a class="button primary classy" href="https://github.com/signup">Sign up for free</a>
              <a class="button classy" href="https://github.com/login?return_to=%2Fwise9%2Fenchant.js%2Fblob%2Fmaster%2Fenchant.min.js">Sign in</a>
            </div>

          </div>
        </div>


      

      


            <div class="site hfeed" itemscope itemtype="http://schema.org/WebPage">
      <div class="hentry">
        
        <div class="pagehead repohead instapaper_ignore readability-menu">
          <div class="container">
            <div class="title-actions-bar">
              


                  <ul class="pagehead-actions">


          <li>
            <span class="star-button"><a href="/login?return_to=%2Fwise9%2Fenchant.js" class="minibutton js-toggler-target entice tooltipped leftwards" title="You must be signed in to use this feature" rel="nofollow"><span class="mini-icon mini-icon-star"></span>Star</a><a class="social-count js-social-count" href="/wise9/enchant.js/stargazers">551</a></span>
          </li>
          <li>
            <a href="/login?return_to=%2Fwise9%2Fenchant.js" class="minibutton js-toggler-target fork-button entice tooltipped leftwards"  title="You must be signed in to fork a repository" rel="nofollow"><span class="mini-icon mini-icon-fork"></span>Fork</a><a href="/wise9/enchant.js/network" class="social-count">103</a>
          </li>
    </ul>

              <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
                <span class="repo-label"><span>public</span></span>
                <span class="mega-icon mega-icon-public-repo"></span>
                <span class="author vcard">
                  <a href="/wise9" class="url fn" itemprop="url" rel="author">
                  <span itemprop="title">wise9</span>
                  </a></span> /
                <strong><a href="/wise9/enchant.js" class="js-current-repository">enchant.js</a></strong>
              </h1>
            </div>

            

  <ul class="tabs">
    <li><a href="/wise9/enchant.js" class="selected" highlight="repo_sourcerepo_downloadsrepo_commitsrepo_tagsrepo_branches">Code</a></li>
    <li><a href="/wise9/enchant.js/network" highlight="repo_network">Network</a></li>
    <li><a href="/wise9/enchant.js/pulls" highlight="repo_pulls">Pull Requests <span class='counter'>0</span></a></li>

      <li><a href="/wise9/enchant.js/issues" highlight="repo_issues">Issues <span class='counter'>21</span></a></li>

      <li><a href="/wise9/enchant.js/wiki" highlight="repo_wiki">Wiki</a></li>


    <li><a href="/wise9/enchant.js/graphs" highlight="repo_graphsrepo_contributors">Graphs</a></li>


  </ul>
  
<div class="tabnav">

  <span class="tabnav-right">
    <ul class="tabnav-tabs">
          <li><a href="/wise9/enchant.js/tags" class="tabnav-tab" highlight="repo_tags">Tags <span class="counter ">12</span></a></li>
    </ul>
    
  </span>

  <div class="tabnav-widget scope">


    <div class="context-menu-container js-menu-container js-context-menu">
      <a href="#"
         class="minibutton bigger switcher js-menu-target js-commitish-button btn-branch repo-tree"
         data-hotkey="w"
         data-ref="master">
         <span><em class="mini-icon mini-icon-branch"></em><i>branch:</i> master</span>
      </a>

      <div class="context-pane commitish-context js-menu-content">
        <a href="#" class="close js-menu-close"><span class="mini-icon mini-icon-remove-close"></span></a>
        <div class="context-title">Switch branches/tags</div>
        <div class="context-body pane-selector commitish-selector js-navigation-container">
          <div class="filterbar">
            <input type="text" id="context-commitish-filter-field" class="js-navigation-enable js-filterable-field js-ref-filter-field" placeholder="Filter branches/tags">
            <ul class="tabs">
              <li><a href="#" data-filter="branches" class="selected">Branches</a></li>
                <li><a href="#" data-filter="tags">Tags</a></li>
            </ul>
          </div>

          <div class="js-filter-tab js-filter-branches">
            <div data-filterable-for="context-commitish-filter-field" data-filterable-type=substring>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/develop/enchant.min.js" class="js-navigation-open" data-name="develop" rel="nofollow">develop</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/better-keybind/enchant.min.js" class="js-navigation-open" data-name="feature/better-keybind" rel="nofollow">feature/better-keybind</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/edge.enchant.js_0.6+/enchant.min.js" class="js-navigation-open" data-name="feature/edge.enchant.js_0.6+" rel="nofollow">feature/edge.enchant.js_0.6+</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/lazy-scene/enchant.min.js" class="js-navigation-open" data-name="feature/lazy-scene" rel="nofollow">feature/lazy-scene</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/mixing.enchant.js/enchant.min.js" class="js-navigation-open" data-name="feature/mixing.enchant.js" rel="nofollow">feature/mixing.enchant.js</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/path/enchant.min.js" class="js-navigation-open" data-name="feature/path" rel="nofollow">feature/path</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/requestAnimationFrame/enchant.min.js" class="js-navigation-open" data-name="feature/requestAnimationFrame" rel="nofollow">feature/requestAnimationFrame</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/feature/wiiu/enchant.min.js" class="js-navigation-open" data-name="feature/wiiu" rel="nofollow">feature/wiiu</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/gh-pages/enchant.min.js" class="js-navigation-open" data-name="gh-pages" rel="nofollow">gh-pages</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/hotfix/%23129/enchant.min.js" class="js-navigation-open" data-name="hotfix/#129" rel="nofollow">hotfix/#129</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target selected">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/master/enchant.min.js" class="js-navigation-open" data-name="master" rel="nofollow">master</a>
                  </h4>
                </div>
                <div class="commitish-item branch-commitish selector-item js-navigation-item js-navigation-target ">
                  <span class="mini-icon mini-icon-confirm"></span>
                  <h4>
                      <a href="/wise9/enchant.js/blob/mmdOptimize/enchant.min.js" class="js-navigation-open" data-name="mmdOptimize" rel="nofollow">mmdOptimize</a>
                  </h4>
                </div>
            </div>
            <div class="no-results">Nothing to show</div>


          </div>

            <div class="js-filter-tab js-filter-tags " style="display:none">
              <div data-filterable-for="context-commitish-filter-field" data-filterable-type=substring>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.6-pre/enchant.min.js" class="js-navigation-open" data-name="v0.6-pre" rel="nofollow">v0.6-pre</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.6.1/enchant.min.js" class="js-navigation-open" data-name="v0.6.1" rel="nofollow">v0.6.1</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.6.0/enchant.min.js" class="js-navigation-open" data-name="v0.6.0" rel="nofollow">v0.6.0</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.5.2/enchant.min.js" class="js-navigation-open" data-name="v0.5.2" rel="nofollow">v0.5.2</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.5.1/enchant.min.js" class="js-navigation-open" data-name="v0.5.1" rel="nofollow">v0.5.1</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.5.0/enchant.min.js" class="js-navigation-open" data-name="v0.5.0" rel="nofollow">v0.5.0</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.4.4/enchant.min.js" class="js-navigation-open" data-name="v0.4.4" rel="nofollow">v0.4.4</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.4.3/enchant.min.js" class="js-navigation-open" data-name="v0.4.3" rel="nofollow">v0.4.3</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.4.2/enchant.min.js" class="js-navigation-open" data-name="v0.4.2" rel="nofollow">v0.4.2</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.4.1/enchant.min.js" class="js-navigation-open" data-name="v0.4.1" rel="nofollow">v0.4.1</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.4.0/enchant.min.js" class="js-navigation-open" data-name="v0.4.0" rel="nofollow">v0.4.0</a>
                    </h4>
                  </div>
                  <div class="commitish-item tag-commitish selector-item js-navigation-item js-navigation-target ">
                    <span class="mini-icon mini-icon-confirm"></span>
                    <h4>
                        <a href="/wise9/enchant.js/blob/v0.3/enchant.min.js" class="js-navigation-open" data-name="v0.3" rel="nofollow">v0.3</a>
                    </h4>
                  </div>
              </div>
              <div class="no-results">Nothing to show</div>
            </div>

        </div>
      </div><!-- /.commitish-context-context -->
    </div>
  </div> <!-- /.scope -->

  <ul class="tabnav-tabs">
    <li><a href="/wise9/enchant.js" class="selected tabnav-tab" highlight="repo_source">Files</a></li>
    <li><a href="/wise9/enchant.js/commits/master" class="tabnav-tab" highlight="repo_commits">Commits</a></li>
    <li><a href="/wise9/enchant.js/branches" class="tabnav-tab" highlight="repo_branches" rel="nofollow">Branches <span class="counter ">12</span></a></li>
  </ul>

</div>

  
  
  


            
          </div>
        </div><!-- /.repohead -->

        <div id="js-repo-pjax-container" class="container context-loader-container" data-pjax-container>
          


<!-- blob contrib key: blob_contributors:v21:333dd80faacd12cbad960ec2bd141942 -->
<!-- blob contrib frag key: views10/v8/blob_contributors:v21:333dd80faacd12cbad960ec2bd141942 -->

<div id="slider">


    <div class="frame-meta">

      <p title="This is a placeholder element" class="js-history-link-replace hidden"></p>
      <div class="breadcrumb">
        <span class='bold'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/wise9/enchant.js" class="js-slide-to" data-direction="back" itemscope="url"><span itemprop="title">enchant.js</span></a></span></span> / <strong class="final-path">enchant.min.js</strong> <span class="js-clippy mini-icon mini-icon-clippy " data-clipboard-text="enchant.min.js" data-copied-hint="copied!" data-copy-hint="copy to clipboard"></span>
      </div>

      <a href="/wise9/enchant.js/find/master" class="js-slide-to" data-hotkey="t" style="display:none">Show File Finder</a>

        
  <div class="commit file-history-tease">
    <img class="main-avatar" height="24" src="https://secure.gravatar.com/avatar/62ff7434ec84c5be269a06f6a6ac826e?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="24" />
    <span class="author"><a href="/sidestepism" rel="author">sidestepism</a></span>
    <time class="js-relative-date" datetime="2012-12-24T17:47:46-08:00" title="2012-12-24 17:47:46">December 24, 2012</time>
    <div class="commit-title">
        <a href="/wise9/enchant.js/commit/960249b6b4b10442981cee155489b68973379a71" class="message">skip tests about webgl on phantomjs</a>
    </div>

    <div class="participation">
      <p class="quickstat"><a href="#blob_contributors_box" rel="facebox"><strong>5</strong> contributors</a></p>
          <a class="avatar tooltipped downwards" title="sidestepism" href="/wise9/enchant.js/commits/master/enchant.min.js?author=sidestepism"><img height="20" src="https://secure.gravatar.com/avatar/62ff7434ec84c5be269a06f6a6ac826e?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="20" /></a>
    <a class="avatar tooltipped downwards" title="rtsan" href="/wise9/enchant.js/commits/master/enchant.min.js?author=rtsan"><img height="20" src="https://secure.gravatar.com/avatar/8c08177d49d0a639d11fda958b1b91b6?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="20" /></a>
    <a class="avatar tooltipped downwards" title="alpicola" href="/wise9/enchant.js/commits/master/enchant.min.js?author=alpicola"><img height="20" src="https://secure.gravatar.com/avatar/a7fef1ca043d64ac78302bcbee244f02?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="20" /></a>
    <a class="avatar tooltipped downwards" title="wise9" href="/wise9/enchant.js/commits/master/enchant.min.js?author=wise9"><img height="20" src="https://secure.gravatar.com/avatar/ae2d042960c8b96cf3581242d9962f0d?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="20" /></a>
    <a class="avatar tooltipped downwards" title="yonekawa" href="/wise9/enchant.js/commits/master/enchant.min.js?author=yonekawa"><img height="20" src="https://secure.gravatar.com/avatar/3fe447a7f9238108e6c50e97ac12717a?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="20" /></a>


    </div>
    <div id="blob_contributors_box" style="display:none">
      <h2>Users on GitHub who have contributed to this file</h2>
      <ul class="facebox-user-list">
        <li>
          <img height="24" src="https://secure.gravatar.com/avatar/62ff7434ec84c5be269a06f6a6ac826e?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="24" />
          <a href="/sidestepism">sidestepism</a>
        </li>
        <li>
          <img height="24" src="https://secure.gravatar.com/avatar/8c08177d49d0a639d11fda958b1b91b6?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="24" />
          <a href="/rtsan">rtsan</a>
        </li>
        <li>
          <img height="24" src="https://secure.gravatar.com/avatar/a7fef1ca043d64ac78302bcbee244f02?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="24" />
          <a href="/alpicola">alpicola</a>
        </li>
        <li>
          <img height="24" src="https://secure.gravatar.com/avatar/ae2d042960c8b96cf3581242d9962f0d?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="24" />
          <a href="/wise9">wise9</a>
        </li>
        <li>
          <img height="24" src="https://secure.gravatar.com/avatar/3fe447a7f9238108e6c50e97ac12717a?s=140&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="24" />
          <a href="/yonekawa">yonekawa</a>
        </li>
      </ul>
    </div>
  </div>


    </div><!-- ./.frame-meta -->

    <div class="frames">
      <div class="frame" data-permalink-url="/wise9/enchant.js/blob/960249b6b4b10442981cee155489b68973379a71/enchant.min.js" data-title="enchant.js/enchant.min.js at master 路 wise9/enchant.js 路 GitHub" data-type="blob">

        <div id="files" class="bubble">
          <div class="file">
            <div class="meta">
              <div class="info">
                <span class="icon"><b class="mini-icon mini-icon-text-file"></b></span>
                <span class="mode" title="File Mode">file</span>
                  <span>2 lines (2 sloc)</span>
                <span>66.313 kb</span>
              </div>
              <ul class="button-group actions">
                  <li>
                      <a class="grouped-button minibutton bigger lighter js-entice" href=""
                         data-entice="You must be signed in and on a branch to make or propose changes">Edit</a>
                  </li>
                <li><a href="/wise9/enchant.js/raw/master/enchant.min.js" class="minibutton grouped-button bigger lighter" id="raw-url">Raw</a></li>
                  <li><a href="/wise9/enchant.js/blame/master/enchant.min.js" class="minibutton grouped-button bigger lighter">Blame</a></li>
                <li><a href="/wise9/enchant.js/commits/master/enchant.min.js" class="minibutton grouped-button bigger lighter" rel="nofollow">History</a></li>
              </ul>
            </div>
                <div class="data type-javascript">
      <table cellpadding="0" cellspacing="0" class="lines">
        <tr>
          <td>
            <pre class="line_numbers"><span id="L1" rel="#L1">1</span>
<span id="L2" rel="#L2">2</span>
</pre>
          </td>
          <td width="100%">
                <div class="highlight"><pre><div class='line' id='LC1'>/* enchant.js v0.6.1 http://enchantjs.com Copyright (c) Ubiquitous Entertainment Inc. Released Under MIT license. */</div><div class='line' id='LC2'>(function(e,t){typeof Object.defineProperty!=&quot;function&quot;&amp;&amp;(Object.defineProperty=function(e,t,n){return&quot;value&quot;in n&amp;&amp;(e[t]=n.value),&quot;get&quot;in n&amp;&amp;e.__defineGetter__(t,n.get),&quot;set&quot;in n&amp;&amp;e.__defineSetter__(t,n.set),e}),typeof Object.defineProperties!=&quot;function&quot;&amp;&amp;(Object.defineProperties=function(e,t){for(var n in t)t.hasOwnProperty(n)&amp;&amp;Object.defineProperty(e,n,t[n]);return e}),typeof Object.create!=&quot;function&quot;&amp;&amp;(Object.create=function(e,t){function n(){}n.prototype=e;var r=new n;return t!=null&amp;&amp;Object.defineProperties(r,t),r}),typeof Object.getPrototypeOf!=&quot;function&quot;&amp;&amp;(Object.getPrototypeOf=function(e){return e.__proto__}),typeof Function.prototype.bind!=&quot;function&quot;&amp;&amp;(Function.prototype.bind=function(t){var n=this,r=Array.prototype.slice.call(arguments,1),i=function(){},s=function(){var s=r.concat(Array.prototype.slice.call(arguments));return n.apply(this instanceof i?this:t||e,s)};return i.prototype=n.prototype,s.prototype=new i,s});var n=function(t){t!=null&amp;&amp;(t instanceof Array||(t=Array.prototype.slice.call(arguments)),t=t.filter(function(e){return[e].join()})),function r(n,i){var s=[],o,u;for(var a in n)n.hasOwnProperty(a)&amp;&amp;(typeof n[a]==&quot;function&quot;?e[a]=n[a]:typeof n[a]==&quot;object&quot;&amp;&amp;Object.getPrototypeOf(n[a])===Object.prototype&amp;&amp;(t==null?s.push(a):(o=t.indexOf(i+a),o!==-1&amp;&amp;(s.push(a),t.splice(o,1)))));for(o=0,u=s.length;o&lt;u;o++)r(n[s[o]],i+s[o]+&quot;.&quot;)}(n,&quot;&quot;),e.Game=e.Core;if(t!=null&amp;&amp;t.length)throw new Error(&quot;Cannot load module: &quot;+t.join(&quot;, &quot;))};e.enchant=n,e.addEventListener(&quot;message&quot;,function(e,t){try{var r=JSON.parse(e.data);if(r.type===&quot;event&quot;)n.Core.instance.dispatchEvent(new n.Event(r.value));else if(r.type===&quot;debug&quot;)switch(r.value){case&quot;start&quot;:n.Core.instance.start();break;case&quot;pause&quot;:n.Core.instance.pause();break;case&quot;resume&quot;:n.Core.instance.resume();break;case&quot;tick&quot;:n.Core.instance._tick();break;default:}}catch(i){}},!1),n.Class=function(e,t){return n.Class.create(e,t)},n.Class.create=function(e,t){if(e==null)throw new Error(&quot;superclass is undefined&quot;);if(arguments.length===0)return n.Class.create(Object,t);if(arguments.length===1&amp;&amp;typeof arguments[0]!=&quot;function&quot;)return n.Class.create(Object,arguments[0]);for(var r in t)t.hasOwnProperty(r)&amp;&amp;(typeof t[r]==&quot;object&quot;&amp;&amp;t[r]!==null&amp;&amp;Object.getPrototypeOf(t[r])===Object.prototype?&quot;enumerable&quot;in t[r]||(t[r].enumerable=!0):t[r]={value:t[r],enumerable:!0,writable:!0});var i=function(){if(!(this instanceof i))return new i;i.prototype.initialize.apply(this,arguments)};i.prototype=Object.create(e.prototype,t),i.prototype.constructor=i,i.prototype.initialize==null&amp;&amp;(i.prototype.initialize=function(){e.apply(this,arguments)});var s=this.getInheritanceTree(e);for(var o=s.length-1;o&gt;=0;o--)if(typeof s[o]._inherited==&quot;function&quot;){s[o]._inherited(i);break}return i},n.Class.getInheritanceTree=function(e){var t=[],n=e,r=n.prototype;while(n!==Object)t.push(n),r=Object.getPrototypeOf(r),n=r.constructor;return t},n.ENV={VENDOR_PREFIX:function(){var e=navigator.userAgent;return e.indexOf(&quot;Opera&quot;)!==-1?&quot;O&quot;:e.indexOf(&quot;MSIE&quot;)!==-1?&quot;ms&quot;:e.indexOf(&quot;WebKit&quot;)!==-1?&quot;webkit&quot;:navigator.product===&quot;Gecko&quot;?&quot;Moz&quot;:&quot;&quot;}(),TOUCH_ENABLED:function(){var e=document.createElement(&quot;div&quot;);return e.setAttribute(&quot;ontouchstart&quot;,&quot;return&quot;),typeof e.ontouchstart==&quot;function&quot;}(),RETINA_DISPLAY:function(){if(navigator.userAgent.indexOf(&quot;iPhone&quot;)!==-1&amp;&amp;e.devicePixelRatio===2){var t=document.querySelector('meta[name=&quot;viewport&quot;]');return t==null&amp;&amp;(t=document.createElement(&quot;meta&quot;),document.head.appendChild(t)),t.setAttribute(&quot;content&quot;,&quot;width=640&quot;),!0}return!1}(),USE_FLASH_SOUND:function(){var e=navigator.userAgent,t=navigator.vendor||&quot;&quot;;return location.href.indexOf(&quot;http&quot;)===0&amp;&amp;e.indexOf(&quot;Mobile&quot;)===-1&amp;&amp;t.indexOf(&quot;Apple&quot;)!==-1}(),USE_DEFAULT_EVENT_TAGS:[&quot;input&quot;,&quot;textarea&quot;,&quot;select&quot;,&quot;area&quot;],CANVAS_DRAWING_METHODS:[&quot;putImageData&quot;,&quot;drawImage&quot;,&quot;drawFocusRing&quot;,&quot;fill&quot;,&quot;stroke&quot;,&quot;clearRect&quot;,&quot;fillRect&quot;,&quot;strokeRect&quot;,&quot;fillText&quot;,&quot;strokeText&quot;],KEY_BIND_TABLE:{37:&quot;left&quot;,38:&quot;up&quot;,39:&quot;right&quot;,40:&quot;down&quot;},PREVENT_DEFAULT_KEY_CODES:[37,38,39,40,32],SOUND_ENABLED_ON_MOBILE_SAFARI:!1,USE_WEBAUDIO:function(){return location.protocol!==&quot;file:&quot;}(),USE_ANIMATION:!0},n.Event=n.Class.create({initialize:function(e){this.type=e,this.target=null,this.x=0,this.y=0,this.localX=0,this.localY=0},_initPosition:function(e,t){var r=n.Core.instance;this.x=this.localX=(e-r._pageX)/r.scale,this.y=this.localY=(t-r._pageY)/r.scale}}),n.Event.LOAD=&quot;load&quot;,n.Event.PROGRESS=&quot;progress&quot;,n.Event.ENTER_FRAME=&quot;enterframe&quot;,n.Event.EXIT_FRAME=&quot;exitframe&quot;,n.Event.ENTER=&quot;enter&quot;,n.Event.EXIT=&quot;exit&quot;,n.Event.CHILD_ADDED=&quot;childadded&quot;,n.Event.ADDED=&quot;added&quot;,n.Event.ADDED_TO_SCENE=&quot;addedtoscene&quot;,n.Event.CHILD_REMOVED=&quot;childremoved&quot;,n.Event.REMOVED=&quot;removed&quot;,n.Event.REMOVED_FROM_SCENE=&quot;removedfromscene&quot;,n.Event.TOUCH_START=&quot;touchstart&quot;,n.Event.TOUCH_MOVE=&quot;touchmove&quot;,n.Event.TOUCH_END=&quot;touchend&quot;,n.Event.RENDER=&quot;render&quot;,n.Event.INPUT_START=&quot;inputstart&quot;,n.Event.INPUT_CHANGE=&quot;inputchange&quot;,n.Event.INPUT_END=&quot;inputend&quot;,n.Event.LEFT_BUTTON_DOWN=&quot;leftbuttondown&quot;,n.Event.LEFT_BUTTON_UP=&quot;leftbuttonup&quot;,n.Event.RIGHT_BUTTON_DOWN=&quot;rightbuttondown&quot;,n.Event.RIGHT_BUTTON_UP=&quot;rightbuttonup&quot;,n.Event.UP_BUTTON_DOWN=&quot;upbuttondown&quot;,n.Event.UP_BUTTON_UP=&quot;upbuttonup&quot;,n.Event.DOWN_BUTTON_DOWN=&quot;downbuttondown&quot;,n.Event.DOWN_BUTTON_UP=&quot;downbuttonup&quot;,n.Event.A_BUTTON_DOWN=&quot;abuttondown&quot;,n.Event.A_BUTTON_UP=&quot;abuttonup&quot;,n.Event.B_BUTTON_DOWN=&quot;bbuttondown&quot;,n.Event.B_BUTTON_UP=&quot;bbuttonup&quot;,n.Event.ADDED_TO_TIMELINE=&quot;addedtotimeline&quot;,n.Event.REMOVED_FROM_TIMELINE=&quot;removedfromtimeline&quot;,n.Event.ACTION_START=&quot;actionstart&quot;,n.Event.ACTION_END=&quot;actionend&quot;,n.Event.ACTION_TICK=&quot;actiontick&quot;,n.Event.ACTION_ADDED=&quot;actionadded&quot;,n.Event.ACTION_REMOVED=&quot;actionremoved&quot;,n.EventTarget=n.Class.create({initialize:function(){this._listeners={}},addEventListener:function(e,t){var n=this._listeners[e];n==null?this._listeners[e]=[t]:n.indexOf(t)===-1&amp;&amp;n.unshift(t)},on:function(){this.addEventListener.apply(this,arguments)},removeEventListener:function(e,t){var n=this._listeners[e];if(n!=null){var r=n.indexOf(t);r!==-1&amp;&amp;n.splice(r,1)}},clearEventListener:function(e){e!=null?delete this._listeners[e]:this._listeners={}},dispatchEvent:function(e){e.target=this,e.localX=e.x-this._offsetX,e.localY=e.y-this._offsetY,this[&quot;on&quot;+e.type]!=null&amp;&amp;this[&quot;on&quot;+e.type](e);var t=this._listeners[e.type];if(t!=null){t=t.slice();for(var n=0,r=t.length;n&lt;r;n++)t[n].call(this,e)}}}),function(){var t;n.Core=n.Class.create(n.EventTarget,{initialize:function(r,i){if(e.document.body===null)throw new Error(&quot;document.body is null. Please excute 'new Core()' in window.onload.&quot;);n.EventTarget.call(this);var s=!0;t&amp;&amp;(s=!1,t.stop()),t=n.Core.instance=this,this.width=r||320,this.height=i||320,this.scale=1;var o=document.getElementById(&quot;enchant-stage&quot;);if(!o)o=document.createElement(&quot;div&quot;),o.id=&quot;enchant-stage&quot;,o.style.position=&quot;absolute&quot;,document.body.firstChild?document.body.insertBefore(o,document.body.firstChild):document.body.appendChild(o),this.scale=Math.min(e.innerWidth/this.width,e.innerHeight/this.height),this._pageX=0,this._pageY=0;else{var u=e.getComputedStyle(o);r=parseInt(u.width,10),i=parseInt(u.height,10),r&amp;&amp;i?this.scale=Math.min(r/this.width,i/this.height):(o.style.width=this.width+&quot;px&quot;,o.style.height=this.height+&quot;px&quot;);while(o.firstChild)o.removeChild(o.firstChild);o.style.position=&quot;relative&quot;;var a=o.getBoundingClientRect();this._pageX=Math.round(e.scrollX||e.pageXOffset+a.left),this._pageY=Math.round(e.scrollY||e.pageYOffset+a.top)}this.scale||(this.scale=1),o.style.fontSize=&quot;12px&quot;,o.style.webkitTextSizeAdjust=&quot;none&quot;,this._element=o,this.fps=30,this.frame=0,this.ready=null,this.running=!1,this.assets={};var f=this._assets=[];(function b(e){e.assets instanceof Array&amp;&amp;[].push.apply(f,e.assets);for(var t in e)e.hasOwnProperty(t)&amp;&amp;typeof e[t]==&quot;object&quot;&amp;&amp;Object.getPrototypeOf(e[t])===Object.prototype&amp;&amp;b(e[t])})(n),this._scenes=[],this.currentScene=null,this.rootScene=new n.Scene,this.pushScene(this.rootScene),this.loadingScene=new n.Scene,this.loadingScene.backgroundColor=&quot;#000&quot;;var l=this.width*.4|0,c=this.width*.05|0,h=l*.03|0,p=new n.Sprite(l,c);p.x=(this.width-l)/2,p.y=(this.height-c)/2;var d=new n.Surface(l,c);d.context.fillStyle=&quot;#fff&quot;,d.context.fillRect(0,0,l,c),d.context.fillStyle=&quot;#000&quot;,d.context.fillRect(h,h,l-h*2,c-h*2),p.image=d;var v=0,m=0;this.addEventListener(&quot;progress&quot;,function(e){v=e.loaded/e.total}),p.addEventListener(&quot;enterframe&quot;,function(){m*=.9,m+=v*.1,d.context.fillStyle=&quot;#fff&quot;,d.context.fillRect(h,0,(l-h*2)*m,c)}),this.loadingScene.addChild(p),this._mousedownID=0,this._surfaceID=0,this._soundID=0,this._intervalID=null,this._offsetX=0,this._offsetY=0,this.input={},this._keybind=n.ENV.KEY_BIND_TABLE||{};var g=0;[&quot;left&quot;,&quot;right&quot;,&quot;up&quot;,&quot;down&quot;,&quot;a&quot;,&quot;b&quot;].forEach(function(e){this.addEventListener(e+&quot;buttondown&quot;,function(t){var r;this.input[e]||(this.input[e]=!0,r=new n.Event(g++?&quot;inputchange&quot;:&quot;inputstart&quot;),this.dispatchEvent(r)),this.currentScene.dispatchEvent(t),r&amp;&amp;this.currentScene.dispatchEvent(r)}),this.addEventListener(e+&quot;buttonup&quot;,function(t){var r;this.input[e]&amp;&amp;(this.input[e]=!1,r=new n.Event(--g?&quot;inputchange&quot;:&quot;inputend&quot;),this.dispatchEvent(r)),this.currentScene.dispatchEvent(t),r&amp;&amp;this.currentScene.dispatchEvent(r)})},this);if(s){o=n.Core.instance._element;var y;document.addEventListener(&quot;keydown&quot;,function(e){t.dispatchEvent(new n.Event(&quot;keydown&quot;)),n.ENV.PREVENT_DEFAULT_KEY_CODES.indexOf(e.keyCode)!==-1&amp;&amp;(e.preventDefault(),e.stopPropagation());if(!t.running)return;var r=t._keybind[e.keyCode];r&amp;&amp;(y=new n.Event(r+&quot;buttondown&quot;),t.dispatchEvent(y))},!0),document.addEventListener(&quot;keyup&quot;,function(e){if(!t.running)return;var r=t._keybind[e.keyCode];r&amp;&amp;(y=new n.Event(r+&quot;buttonup&quot;),t.dispatchEvent(y))},!0),n.ENV.TOUCH_ENABLED&amp;&amp;(o.addEventListener(&quot;touchstart&quot;,function(e){var r=e.target.tagName.toLowerCase();n.ENV.USE_DEFAULT_EVENT_TAGS.indexOf(r)===-1&amp;&amp;(e.preventDefault(),t.running||e.stopPropagation())},!0),o.addEventListener(&quot;touchmove&quot;,function(e){var r=e.target.tagName.toLowerCase();n.ENV.USE_DEFAULT_EVENT_TAGS.indexOf(r)===-1&amp;&amp;(e.preventDefault(),t.running||e.stopPropagation())},!0),o.addEventListener(&quot;touchend&quot;,function(e){var r=e.target.tagName.toLowerCase();n.ENV.USE_DEFAULT_EVENT_TAGS.indexOf(r)===-1&amp;&amp;(e.preventDefault(),t.running||e.stopPropagation())},!0)),o.addEventListener(&quot;mousedown&quot;,function(e){var r=e.target.tagName.toLowerCase();n.ENV.USE_DEFAULT_EVENT_TAGS.indexOf(r)===-1&amp;&amp;(e.preventDefault(),t._mousedownID++,t.running||e.stopPropagation())},!0),o.addEventListener(&quot;mousemove&quot;,function(e){var r=e.target.tagName.toLowerCase();n.ENV.USE_DEFAULT_EVENT_TAGS.indexOf(r)===-1&amp;&amp;(e.preventDefault(),t.running||e.stopPropagation())},!0),o.addEventListener(&quot;mouseup&quot;,function(e){var r=e.target.tagName.toLowerCase();n.ENV.USE_DEFAULT_EVENT_TAGS.indexOf(r)===-1&amp;&amp;(e.preventDefault(),t.running||e.stopPropagation())},!0),t._touchEventTarget={},n.ENV.TOUCH_ENABLED&amp;&amp;(o.addEventListener(&quot;touchstart&quot;,function(e){var t=n.Core.instance,r=new n.Event(n.Event.TOUCH_START),i=e.changedTouches,s,o;for(var u=0,a=i.length;u&lt;a;u++)s=i[u],r._initPosition(s.pageX,s.pageY),o=t.currentScene._determineEventTarget(r),t._touchEventTarget[s.identifier]=o,o.dispatchEvent(r)},!1),o.addEventListener(&quot;touchmove&quot;,function(e){var t=n.Core.instance,r=new n.Event(n.Event.TOUCH_MOVE),i=e.changedTouches,s,o;for(var u=0,a=i.length;u&lt;a;u++)s=i[u],o=t._touchEventTarget[s.identifier],o&amp;&amp;(r._initPosition(s.pageX,s.pageY),o.dispatchEvent(r))},!1),o.addEventListener(&quot;touchend&quot;,function(e){var t=n.Core.instance,r=new n.Event(n.Event.TOUCH_END),i=e.changedTouches,s,o;for(var u=0,a=i.length;u&lt;a;u++)s=i[u],o=t._touchEventTarget[s.identifier],o&amp;&amp;(r._initPosition(s.pageX,s.pageY),o.dispatchEvent(r),delete t._touchEventTarget[s.identifier])},!1)),o.addEventListener(&quot;mousedown&quot;,function(e){var t=n.Core.instance,r=new n.Event(n.Event.TOUCH_START);r._initPosition(e.pageX,e.pageY);var i=t.currentScene._determineEventTarget(r);t._touchEventTarget[t._mousedownID]=i,i.dispatchEvent(r)},!1),o.addEventListener(&quot;mousemove&quot;,function(e){var t=n.Core.instance,r=new n.Event(n.Event.TOUCH_MOVE);r._initPosition(e.pageX,e.pageY);var i=t._touchEventTarget[t._mousedownID];i&amp;&amp;i.dispatchEvent(r)},!1),o.addEventListener(&quot;mouseup&quot;,function(e){var t=n.Core.instance,r=new n.Event(n.Event.TOUCH_END);r._initPosition(e.pageX,e.pageY),t._touchEventTarget[t._mousedownID].dispatchEvent(r),delete t._touchEventTarget[t._mousedownID]},!1)}},preload:function(e){e instanceof Array||(e=Array.prototype.slice.call(arguments)),[].push.apply(this._assets,e)},load:function(e,r){r==null&amp;&amp;(r=function(){});var i=n.Core.findExt(e);if(n.Core._loadFuncs[i])n.Core._loadFuncs[i].call(this,e,r,i);else{var s=new XMLHttpRequest;s.open(&quot;GET&quot;,e,!0),s.onreadystatechange=function(i){if(s.readyState===4){if(s.status!==200&amp;&amp;s.status!==0)throw new Error(s.status+&quot;: &quot;+&quot;Cannot load an asset: &quot;+e);var o=s.getResponseHeader(&quot;Content-Type&quot;)||&quot;&quot;;o.match(/^image/)?(t.assets[e]=n.Surface.load(e),t.assets[e].addEventListener(&quot;load&quot;,r)):o.match(/^audio/)?(t.assets[e]=n.Sound.load(e,o),t.assets[e].addEventListener(&quot;load&quot;,r)):(t.assets[e]=s.responseText,r())}},s.send(null)}},start:function(){var r=function(){this.currentTime=this.getTime(),this.removeEventListener(&quot;load&quot;,r),this._intervalID=e.setInterval(function(){t._tick()},1e3/this.fps),this.running=!0};this.addEventListener(&quot;load&quot;,r);if(this._intervalID)e.clearInterval(this._intervalID);else if(this._assets.length){if(n.Sound.enabledInMobileSafari&amp;&amp;!t._touched&amp;&amp;n.ENV.VENDOR_PREFIX===&quot;webkit&quot;&amp;&amp;n.ENV.TOUCH_ENABLED){var i=new n.Scene;i.backgroundColor=&quot;#000&quot;;var s=Math.round(t.width/10),o=new n.Sprite(t.width,s);o.y=(t.height-s)/2,o.image=new n.Surface(t.width,s),o.image.context.fillStyle=&quot;#fff&quot;,o.image.context.font=s-1+&quot;px bold Helvetica,Arial,sans-serif&quot;;var u=o.image.context.measureText(&quot;Touch to Start&quot;).width;o.image.context.fillText(&quot;Touch to Start&quot;,(t.width-u)/2,s-1),i.addChild(o),document.addEventListener(&quot;touchstart&quot;,function(){t._touched=!0,t.removeScene(i),t.start()},!0),t.pushScene(i);return}var a={},f=this._assets.filter(function(e){return e in a?!1:a[e]=!0}),l=0,c=f.length,h=function(){var e=new n.Event(&quot;progress&quot;);e.loaded=++l,e.total=c,t.dispatchEvent(e),l===c&amp;&amp;(t.removeScene(t.loadingScene),t.dispatchEvent(new n.Event(&quot;load&quot;)))};for(var p=0;p&lt;c;p++)this.load(f[p],h);this.pushScene(this.loadingScene)}else this.dispatchEvent(new n.Event(&quot;load&quot;))},debug:function(){this._debug=!0,this.rootScene.addEventListener(&quot;enterframe&quot;,function(e){this._actualFps=1/e}),this.start()},actualFps:{get:function(){return this._actualFps||this.fps}},_tick:function(){var e=this.getTime(),t=new n.Event(&quot;enterframe&quot;);t.elapsed=e-this.currentTime,this.currentTime=e;var r=this.currentScene.childNodes.slice(),i=Array.prototype.push;while(r.length){var s=r.pop();s.age++,s.dispatchEvent(t),s.childNodes&amp;&amp;i.apply(r,s.childNodes)}this.currentScene.age++,this.currentScene.dispatchEvent(t),this.dispatchEvent(t),this.dispatchEvent(new n.Event(&quot;exitframe&quot;)),this.frame++},getTime:function(){return e.performance&amp;&amp;e.performance.now?e.performance.now():e.performance&amp;&amp;e.performance.webkitNow?e.performance.webkitNow():Date.now()},stop:function(){this._intervalID&amp;&amp;(e.clearInterval(this._intervalID),this._intervalID=null),this.running=!1},pause:function(){this._intervalID&amp;&amp;(e.clearInterval(this._intervalID),this._intervalID=null)},resume:function(){if(this._intervalID)return;this.currentTime=this.getTime(),this._intervalID=e.setInterval(function(){t._tick()},1e3/this.fps),this.running=!0},pushScene:function(e){return this._element.appendChild(e._element),this.currentScene&amp;&amp;this.currentScene.dispatchEvent(new n.Event(&quot;exit&quot;)),this.currentScene=e,this.currentScene.dispatchEvent(new n.Event(&quot;enter&quot;)),this._scenes.push(e)},popScene:function(){return this.currentScene===this.rootScene?this.currentScene:(this._element.removeChild(this.currentScene._element),this.currentScene.dispatchEvent(new n.Event(&quot;exit&quot;)),this.currentScene=this._scenes[this._scenes.length-2],this.currentScene.dispatchEvent(new n.Event(&quot;enter&quot;)),this._scenes.pop())},replaceScene:function(e){return this.popScene(),this.pushScene(e)},removeScene:function(e){if(this.currentScene===e)return this.popScene();var t=this._scenes.indexOf(e);return t!==-1?(this._scenes.splice(t,1),this._element.removeChild(e._element),e):null},keybind:function(e,t){this._keybind[e]=t},getElapsedTime:function(){return this.frame/this.fps}}),n.Core._loadFuncs={},n.Core._loadFuncs.jpg=n.Core._loadFuncs.jpeg=n.Core._loadFuncs.gif=n.Core._loadFuncs.png=n.Core._loadFuncs.bmp=function(e,t){this.assets[e]=n.Surface.load(e),this.assets[e].addEventListener(&quot;load&quot;,t)},n.Core._loadFuncs.mp3=n.Core._loadFuncs.aac=n.Core._loadFuncs.m4a=n.Core._loadFuncs.wav=n.Core._loadFuncs.ogg=function(e,t,r){this.assets[e]=n.Sound.load(e,&quot;audio/&quot;+r),this.assets[e].addEventListener(&quot;load&quot;,t)},n.Core.findExt=function(e){var t=e.match(/\.\w+$/);return t&amp;&amp;t.length&gt;0?t[0].slice(1).toLowerCase():e.indexOf(&quot;data:&quot;)===0?e.split(/[\/;]/)[1].toLowerCase():null},n.Core.instance=null}(),n.Game=n.Core,n.Node=n.Class.create(n.EventTarget,{initialize:function(){n.EventTarget.call(this),this._dirty=!1,this._matrix=[1,0,0,1,0,0],this._x=0,this._y=0,this._offsetX=0,this._offsetY=0,this.age=0,this.parentNode=null,this.scene=null,this.addEventListener(&quot;touchstart&quot;,function(e){this.parentNode&amp;&amp;this.parentNode.dispatchEvent(e)}),this.addEventListener(&quot;touchmove&quot;,function(e){this.parentNode&amp;&amp;this.parentNode.dispatchEvent(e)}),this.addEventListener(&quot;touchend&quot;,function(e){this.parentNode&amp;&amp;this.parentNode.dispatchEvent(e)});if(n.ENV.USE_ANIMATION)var e=this.tl=new n.Timeline(this)},moveTo:function(e,t){this._x=e,this._y=t,this._dirty=!0},moveBy:function(e,t){this._x+=e,this._y+=t,this._dirty=!0},x:{get:function(){return this._x},set:function(e){this._x=e,this._dirty=!0}},y:{get:function(){return this._y},set:function(e){this._y=e,this._dirty=!0}},_updateCoordinate:function(){var e=this,t=[e],r=e.parentNode,i=this.scene;while(r&amp;&amp;e._dirty)t.unshift(r),e=e.parentNode,r=e.parentNode;var s=n.Matrix.instance,o=s.stack,u=[],a,f,l;o.push(t[0]._matrix);for(var c=1,h=t.length;c&lt;h;c++){e=t[c],a=[],s.makeTransformMatrix(e,u),s.multiply(o[o.length-1],u,a),e._matrix=a,o.push(a),f=typeof e._originX==&quot;number&quot;?e._originX:e._width/2||0,l=typeof e._originY==&quot;number&quot;?e._originY:e._height/2||0;var p=[f,l];s.multiplyVec(a,p,p),e._offsetX=p[0]-f,e._offsetY=p[1]-l,e._dirty=!1}s.reset()},remove:function(){this._listener&amp;&amp;this.clearEventListener(),this.parentNode&amp;&amp;this.parentNode.removeChild(this)}});var r=function(e,t){var n=[],r;for(var i=0,s=e.collection.length;i&lt;s;i++)r=e.collection[i],t._intersectone(r)&amp;&amp;n.push(r);return n},i=function(e,t){var n=[],r,i;for(var s=0,o=e.collection.length;s&lt;o;s++){r=e.collection[s];for(var u=0,a=t.collection.length;u&lt;a;u++)i=t.collection[u],r._intersectone(i)&amp;&amp;n.push([r,i])}return n},s=function(e){return e instanceof n.Entity?r(this,e):typeof e==&quot;function&quot;&amp;&amp;e.collection?i(this,e):!1};n.Entity=n.Class.create(n.Node,{initialize:function(){var e=n.Core.instance;n.Node.call(this),this._rotation=0,this._scaleX=1,this._scaleY=1,this._touchEnabled=!0,this._clipping=!1,this._originX=null,this._originY=null,this._width=0,this._height=0,this._backgroundColor=null,this._opacity=1,this._visible=!0,this._buttonMode=null,this._style={},this.__styleStatus={},this.compositeOperation=null,this.buttonMode=null,this.buttonPressed=!1,this.addEventListener(&quot;touchstart&quot;,function(){if(!this.buttonMode)return;this.buttonPressed=!0;var t=new n.Event(this.buttonMode+&quot;buttondown&quot;);this.dispatchEvent(t),e.dispatchEvent(t)}),this.addEventListener(&quot;touchend&quot;,function(){if(!this.buttonMode)return;this.buttonPressed=!1;var t=new n.Event(this.buttonMode+&quot;buttonup&quot;);this.dispatchEvent(t),e.dispatchEvent(t)}),this.enableCollection()},width:{get:function(){return this._width},set:function(e){this._width=e,this._dirty=!0}},height:{get:function(){return this._height},set:function(e){this._height=e,this._dirty=!0}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e}},opacity:{get:function(){return this._opacity},set:function(e){this._opacity=e}},visible:{get:function(){return this._visible},set:function(e){this._visible=e}},touchEnabled:{get:function(){return this._touchEnabled},set:function(e){this._touchEnabled=e,(this._touchEnabled=e)?this._style.pointerEvents=&quot;all&quot;:this._style.pointerEvents=&quot;none&quot;}},intersect:function(e){return e instanceof n.Entity?this._intersectone(e):typeof e==&quot;function&quot;&amp;&amp;e.collection?r(e,this):!1},_intersectone:function(e){return this._dirty&amp;&amp;this._updateCoordinate(),e._dirty&amp;&amp;e._updateCoordinate(),this._offsetX&lt;e._offsetX+e.width&amp;&amp;e._offsetX&lt;this._offsetX+this.width&amp;&amp;this._offsetY&lt;e._offsetY+e.height&amp;&amp;e._offsetY&lt;this._offsetY+this.height},within:function(e,t){this._dirty&amp;&amp;this._updateCoordinate(),e._dirty&amp;&amp;e._updateCoordinate(),t==null&amp;&amp;(t=(this.width+this.height+e.width+e.height)/4);var n;return(n=this._offsetX-e._offsetX+(this.width-e.width)/2)*n+(n=this._offsetY-e._offsetY+(this.height-e.height)/2)*n&lt;t*t},scale:function(e,t){this._scaleX*=e,this._scaleY*=t!=null?t:e,this._dirty=!0},rotate:function(e){this._rotation+=e,this._dirty=!0},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,this._dirty=!0}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,this._dirty=!0}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this._dirty=!0}},originX:{get:function(){return this._originX},set:function(e){this._originX=e,this._dirty=!0}},originY:{get:function(){return this._originY},set:function(e){this._originY=e,this._dirty=!0}},enableCollection:function(){this.addEventListener(&quot;addedtoscene&quot;,this._addSelfToCollection),this.addEventListener(&quot;removedfromscene&quot;,this._removeSelfFromCollection),this.scene&amp;&amp;this._addSelfToCollection()},disableCollection:function(){this.removeEventListener(&quot;addedtoscene&quot;,this._addSelfToCollection),this.removeEventListener(&quot;removedfromscene&quot;,this._removeSelfFromCollection),this.scene&amp;&amp;this._removeSelfFromCollection()},_addSelfToCollection:function(){var e=this.getConstructor();e._collectionTarget.forEach(function(e){e.collection.push(this)},this)},_removeSelfFromCollection:function(){var e=this.getConstructor();e._collectionTarget.forEach(function(e){var t=e.collection.indexOf(this);t!==-1&amp;&amp;e.collection.splice(t,1)},this)},getConstructor:function(){return Object.getPrototypeOf(this).constructor}});var o=function(e){if(e._collective)return;var t=n.Class.getInheritanceTree(e),r=t.indexOf(n.Entity);r!==-1?e._collectionTarget=t.splice(0,r+1):e._collectionTarget=[],e.intersect=s,e.collection=[],e._collective=!0};o(n.Entity),n.Entity._inherited=function(e){o(e)},n.Sprite=n.Class.create(n.Entity,{initialize:function(e,t){n.Entity.call(this),this.width=e,this.height=t,this._image=null,this._frameLeft=0,this._frameTop=0,this._frame=0,this._frameSequence=[],this.addEventListener(&quot;enterframe&quot;,function(){if(this._frameSequence.length!==0){var e=this._frameSequence.shift();e===null?this._frameSequence=[]:(this._setFrame(e),this._frameSequence.push(e))}})},image:{get:function(){return this._image},set:function(e){if(e===this._image)return;this._image=e,this._setFrame(this._frame)}},frame:{get:function(){return this._frame},set:function(e){if(this._frame===e)return;if(e instanceof Array){var t=e,n=t.shift();this._setFrame(n),t.push(n),this._frameSequence=t}else this._setFrame(e),this._frameSequence=[],this._frame=e}},_setFrame:function(e){var t=this._image,n,r;t!=null&amp;&amp;(this._frame=e,n=t.width/this._width|0,this._frameLeft=(e%n|0)*this._width,this._frameTop=(e/n|0)*this._height%t.height)},width:{get:function(){return this._width},set:function(e){this._width=e,this._setFrame(),this._dirty=!0}},height:{get:function(){return this._height},set:function(e){this._height=e,this._setFrame(),this._dirty=!0}},cvsRender:function(e){if(this._image==null||this._width===0||this._height===0)return;var t=this._image,n=t._element,r=this._frameLeft,i=this._frameTop,s=Math.min(this.width,t.width-r),o=Math.min(this.height,t.height-i),u=Math.min(t.width,this.width),a=Math.min(t.height,this.height),f,l,c,h;for(l=0;l&lt;this.height;l+=a){h=this.height&lt;l+a?this.height-l:a;for(f=0;f&lt;this.width;f+=u)c=this.width&lt;f+u?this.width-f:u,e.drawImage(n,r,i,s*c/u,o*h/a,f,l,c,h)}},domRender:function(e){this._image&amp;&amp;(this._image._css?(this._style[&quot;background-image&quot;]=this._image._css,this._style[&quot;background-position&quot;]=-this._frameLeft+&quot;px &quot;+ -this._frameTop+&quot;px&quot;):this._image._element)}}),n.Label=n.Class.create(n.Entity,{initialize:function(e){n.Entity.call(this),this.width=300,this.font=&quot;14px serif&quot;,this.text=e||&quot;&quot;,this.textAlign=&quot;left&quot;},text:{get:function(){return this._text},set:function(e){if(this._text===e)return;this._text=e,e=e.replace(/&lt;(br|BR) ?\/?&gt;/g,&quot;&lt;br/&gt;&quot;),this._splitText=e.split(&quot;&lt;br/&gt;&quot;);var t=this.getMetrics();this._boundWidth=t.width,this._boundHeight=t.height;for(var n=0,r=this._splitText.length;n&lt;r;n++)e=this._splitText[n],t=this.getMetrics(e),this._splitText[n]={},this._splitText[n].text=e,this._splitText[n].height=t.height}},textAlign:{get:function(){return this._style[&quot;text-align&quot;]},set:function(e){this._style[&quot;text-align&quot;]=e}},font:{get:function(){return this._style.font},set:function(e){this._style.font=e}},color:{get:function(){return this._style.color},set:function(e){this._style.color=e}},cvsRender:function(e){var t=0,n,r,i;if(this._splitText){e.textBaseline=&quot;top&quot;,e.font=this.font,e.fillStyle=this.color||&quot;#000000&quot;;for(var s=0,o=this._splitText.length;s&lt;o;s++){n=this._splitText[s],r=&quot;&quot;;for(var u=0,a=n.text.length;u&lt;a;u++)i=n.text[u],e.measureText(r).width&gt;this.width&amp;&amp;(e.fillText(r,0,t),t+=n.height-1,r=&quot;&quot;),r+=i;e.fillText(r,0,t),t+=n.height-1}}},domRender:function(e){e.innerHTML!==this._text&amp;&amp;(e.innerHTML=this._text)},detectRender:function(e){e.fillRect(0,0,this._boundWidth,this._boundHeight)}}),n.Label.prototype.getMetrics=function(e){var t={},n,r,i;if(document.body){n=document.createElement(&quot;div&quot;);for(var s in this._style)s!==&quot;width&quot;&amp;&amp;s!==&quot;height&quot;&amp;&amp;(n.style[s]=this._style[s]);n.innerHTML=e||this._text,document.body.appendChild(n),t.height=parseInt(getComputedStyle(n).height,10)+1,n.style.position=&quot;absolute&quot;,t.width=parseInt(getComputedStyle(n).width,10)+1,document.body.removeChild(n)}else t.width=this.width,t.height=this.height;return t},n.Map=n.Class.create(n.Entity,{initialize:function(e,t){var r=n.Core.instance;n.Entity.call(this);var i=new n.Surface(r.width,r.height);this._surface=i;var s=i._element;s.style.position=&quot;absolute&quot;,n.ENV.RETINA_DISPLAY&amp;&amp;r.scale===2?(s.width=r.width*2,s.height=r.height*2,this._style.webkitTransformOrigin=&quot;0 0&quot;,this._style.webkitTransform=&quot;scale(0.5)&quot;):(s.width=r.width,s.height=r.height),this._context=s.getContext(&quot;2d&quot;),this._tileWidth=e||0,this._tileHeight=t||0,this._image=null,this._data=[[[]]],this._dirty=!1,this._tight=!1,this.touchEnabled=!1,this.collisionData=null,this._listeners.render=null,this.addEventListener(&quot;render&quot;,function(){if(this._dirty||this._previousOffsetX==null)this.redraw(0,0,r.width,r.height);else if(this._offsetX!==this._previousOffsetX||this._offsetY!==this._previousOffsetY)if(this._tight){var e=-this._offsetX,t=-this._offsetY,n=-this._previousOffsetX,i=-this._previousOffsetY,s=e-n+r.width,o=n-e+r.width,u=t-i+r.height,a=i-t+r.height;if(s&gt;this._tileWidth&amp;&amp;o&gt;this._tileWidth&amp;&amp;u&gt;this._tileHeight&amp;&amp;a&gt;this._tileHeight){var f,l,c,h,p,d;s&lt;o?(f=0,c=n-e,p=s):(f=e-n,c=0,p=o),u&lt;a?(l=0,h=i-t,d=u):(l=t-i,h=0,d=a),r._buffer==null&amp;&amp;(r._buffer=document.createElement(&quot;canvas&quot;),r._buffer.width=this._context.canvas.width,r._buffer.height=this._context.canvas.height);var v=r._buffer.getContext(&quot;2d&quot;);this._doubledImage?(v.clearRect(0,0,p*2,d*2),v.drawImage(this._context.canvas,f*2,l*2,p*2,d*2,0,0,p*2,d*2),v=this._context,v.clearRect(c*2,h*2,p*2,d*2),v.drawImage(r._buffer,0,0,p*2,d*2,c*2,h*2,p*2,d*2)):(v.clearRect(0,0,p,d),v.drawImage(this._context.canvas,f,l,p,d,0,0,p,d),v=this._context,v.clearRect(c,h,p,d),v.drawImage(r._buffer,0,0,p,d,c,h,p,d)),c===0?this.redraw(p,0,r.width-p,r.height):this.redraw(0,0,r.width-p,r.height),h===0?this.redraw(0,d,r.width,r.height-d):this.redraw(0,0,r.width,r.height-d)}else this.redraw(0,0,r.width,r.height)}else this.redraw(0,0,r.width,r.height);this._previousOffsetX=this._offsetX,this._previousOffsetY=this._offsetY})},loadData:function(e){this._data=Array.prototype.slice.apply(arguments),this._dirty=!0,this._tight=!1;for(var t=0,n=this._data.length;t&lt;n;t++){var r=0;e=this._data[t];for(var i=0,s=e.length;i&lt;s;i++)for(var o=0,u=e[i].length;o&lt;u;o++)e[i][o]&gt;=0&amp;&amp;r++;if(r/(e.length*e[0].length)&gt;.2){this._tight=!0;break}}},checkTile:function(e,t){if(e&lt;0||this.width&lt;=e||t&lt;0||this.height&lt;=t)return!1;var n=this._image.width,r=this._image.height,i=this._tileWidth||n,s=this._tileHeight||r;e=e/i|0,t=t/s|0;var o=this._data[0];return o[t][e]},hitTest:function(e,t){if(e&lt;0||this.width&lt;=e||t&lt;0||this.height&lt;=t)return!1;var n=this._image.width,r=this._image.height,i=this._tileWidth||n,s=this._tileHeight||r;e=e/i|0,t=t/s|0;if(this.collisionData!=null)return this.collisionData[t]&amp;&amp;!!this.collisionData[t][e];for(var o=0,u=this._data.length;o&lt;u;o++){var a=this._data[o],f;if(a[t]!=null&amp;&amp;(f=a[t][e])!=null&amp;&amp;0&lt;=f&amp;&amp;f&lt;(n/i|0)*(r/s|0))return!0}return!1},image:{get:function(){return this._image},set:function(e){var t=n.Core.instance;this._image=e;if(n.ENV.RETINA_DISPLAY&amp;&amp;t.scale===2){var r=new n.Surface(e.width*2,e.height*2),i=this._tileWidth||e.width,s=this._tileHeight||e.height,o=e.width/i|0,u=e.height/s|0;for(var a=0;a&lt;u;a++)for(var f=0;f&lt;o;f++)r.draw(e,f*i,a*s,i,s,f*i*2,a*s*2,i*2,s*2);this._doubledImage=r}this._dirty=!0}},tileWidth:{get:function(){return this._tileWidth},set:function(e){this._tileWidth=e,this._dirty=!0}},tileHeight:{get:function(){return this._tileHeight},set:function(e){this._tileHeight=e,this._dirty=!0}},width:{get:function(){return this._tileWidth*this._data[0][0].length}},height:{get:function(){return this._tileHeight*this._data[0].length}},redraw:function(e,t,n,r){if(this._image==null)return;var i,s,o,u,a;this._doubledImage?(i=this._doubledImage,s=this._tileWidth*2,o=this._tileHeight*2,u=-this._offsetX*2,a=-this._offsetY*2,e*=2,t*=2,n*=2,r*=2):(i=this._image,s=this._tileWidth,o=this._tileHeight,u=-this._offsetX,a=-this._offsetY);var f=i.width/s|0,l=i.height/o|0,c=Math.max((e+u)/s|0,0),h=Math.max((t+a)/o|0,0),p=Math.ceil((e+u+n)/s),d=Math.ceil((t+a+r)/o),v=i._element,m=this._context,g=m.canvas;m.clearRect(e,t,n,r);for(var y=0,b=this._data.length;y&lt;b;y++){var w=this._data[y],E=Math.min(p,w[0].length),S=Math.min(d,w.length);for(t=h;t&lt;S;t++)for(e=c;e&lt;E;e++){var x=w[t][e];if(0&lt;=x&amp;&amp;x&lt;f*l){var T=x%f*s,N=(x/f|0)*o;m.drawImage(v,T,N,s,o,e*s-u,t*o-a,s,o)}}}},cvsRender:function(e){var t=n.Game.instance;if(this.width!==0&amp;&amp;this.height!==0){e.save(),e.setTransform(1,0,0,1,0,0);var r=this._context.canvas;e.drawImage(r,0,0,t.width,t.height),e.restore()}},domRender:function(e){this._image&amp;&amp;(this._style[&quot;background-image&quot;]=this._surface._css,this._style[n.ENV.VENDOR_PREFIX+&quot;Transform&quot;]=&quot;matrix(1, 0, 0, 1, 0, 0)&quot;)}}),n.Group=n.Class.create(n.Node,{initialize:function(){this.childNodes=[],n.Node.call(this),this._rotation=0,this._scaleX=1,this._scaleY=1,this._originX=null,this._originY=null,this.__dirty=!1,[n.Event.ADDED_TO_SCENE,n.Event.REMOVED_FROM_SCENE].forEach(function(e){this.addEventListener(e,function(e){this.childNodes.forEach(function(t){t.scene=this.scene,t.dispatchEvent(e)},this)})},this)},addChild:function(e){this.childNodes.push(e),e.parentNode=this;var t=new n.Event(&quot;childadded&quot;);t.node=e,t.next=null,this.dispatchEvent(t),e.dispatchEvent(new n.Event(&quot;added&quot;));if(this.scene){e.scene=this.scene;var r=new n.Event(&quot;addedtoscene&quot;);e.dispatchEvent(r)}},insertBefore:function(e,t){var r=this.childNodes.indexOf(t);if(r!==-1){this.childNodes.splice(r,0,e),e.parentNode=this;var i=new n.Event(&quot;childadded&quot;);i.node=e,i.next=t,this.dispatchEvent(i),e.dispatchEvent(new n.Event(&quot;added&quot;));if(this.scene){e.scene=this.scene;var s=new n.Event(&quot;addedtoscene&quot;);e.dispatchEvent(s)}}else this.addChild(e)},removeChild:function(e){var t;if((t=this.childNodes.indexOf(e))!==-1){this.childNodes.splice(t,1),e.parentNode=null;var r=new n.Event(&quot;childremoved&quot;);r.node=e,this.dispatchEvent(r),e.dispatchEvent(new n.Event(&quot;removed&quot;));if(this.scene){e.scene=null;var i=new n.Event(&quot;removedfromscene&quot;);e.dispatchEvent(i)}}},firstChild:{get:function(){return this.childNodes[0]}},lastChild:{get:function(){return this.childNodes[this.childNodes.length-1]}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e,this._dirty=!0}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e,this._dirty=!0}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e,this._dirty=!0}},originX:{get:function(){return this._originX},set:function(e){this._originX=e,this._dirty=!0}},originY:{get:function(){return this._originY},set:function(e){this._originY=e,this._dirty=!0}},_dirty:{get:function(){return this.__dirty},set:function(e){e=!!e,this.__dirty=e;if(e)for(var t=0,n=this.childNodes.length;t&lt;n;t++)this.childNodes[t]._dirty=!0}}}),n.Matrix=n.Class.create({initialize:function(){if(n.Matrix.instance)return n.Matrix.instance;this.reset()},reset:function(){this.stack=[],this.stack.push([1,0,0,1,0,0])},makeTransformMatrix:function(e,t){var n=e._x,r=e._y,i=e.width||0,s=e.height||0,o=e._rotation||0,u=typeof e._scaleX==&quot;number&quot;?e._scaleX:1,a=typeof e._scaleY==&quot;number&quot;?e._scaleY:1,f=o*Math.PI/180,l=Math.cos(f),c=Math.sin(f),h=typeof e._originX==&quot;number&quot;?e._originX:i/2,p=typeof e._originY==&quot;number&quot;?e._originY:s/2,d=u*l,v=u*c,m=a*c,g=a*l;t[0]=d,t[1]=v,t[2]=-m,t[3]=g,t[4]=-d*h+m*p+n+h,t[5]=-v*h-g*p+r+p},multiply:function(e,t,n){var r=e[0],i=e[2],s=e[4],o=e[1],u=e[3],a=e[5],f=t[0],l=t[2],c=t[4],h=t[1],p=t[3],d=t[5];n[0]=r*f+i*h,n[1]=o*f+u*h,n[2]=r*l+i*p,n[3]=o*l+u*p,n[4]=r*c+i*d+s,n[5]=o*c+u*d+a},multiplyVec:function(e,t,n){var r=t[0],i=t[1],s=e[0],o=e[2],u=e[4],a=e[1],f=e[3],l=e[5];n[0]=s*r+o*i+u,n[1]=a*r+f*i+l}}),n.Matrix.instance=new n.Matrix,n.DetectColorManager=n.Class.create({initialize:function(e,t){this.reference=[],this.colorResolution=e||16,this.max=t||1,this.capacity=Math.pow(this.colorResolution,3);for(var n=1,r=this.capacity;n&lt;r;n++)this.reference[n]=null},attachDetectColor:function(e){var t=this.reference.indexOf(null);return t===-1&amp;&amp;(t=1),this.reference[t]=e,this._getColor(t)},detachDetectColor:function(e){var t=this.reference.indexOf(e);t!==-1&amp;&amp;(this.reference[t]=null)},_getColor:function(e){var t=this.colorResolution,n=t/this.max;return[parseInt(e/t/t%t,10)/n,parseInt(e/t%t,10)/n,parseInt(e%t,10)/n,1]},_decodeDetectColor:function(e){var t=this.colorResolution;return~~(e[0]*t*t*t/256)+~~(e[1]*t*t/256)+~~(e[2]*t/256)},getSpriteByColor:function(e){return this.reference[this._decodeDetectColor(e)]}}),n.DomManager=n.Class.create({initialize:function(e,t){var r=n.Game.instance;this.layer=null,this.targetNode=e,typeof t==&quot;string&quot;?this.element=document.createElement(t):t instanceof HTMLElement&amp;&amp;(this.element=t),this.style=this.element.style,this.style.position=&quot;absolute&quot;,this.style[n.ENV.VENDOR_PREFIX+&quot;TransformOrigin&quot;]=&quot;0px 0px&quot;,r._debug&amp;&amp;(this.style.border=&quot;1px solid blue&quot;,this.style.margin=&quot;-1px&quot;);var i=this;this._setDomTarget=function(){i.layer._touchEventTarget=i.targetNode},this._attachEvent()},getDomElement:function(){return this.element},getDomElementAsNext:function(){return this.element},getNextManager:function(e){var t=this.targetNode.parentNode.childNodes.indexOf(e.targetNode);return t!==this.targetNode.parentNode.childNodes.length-1?this.targetNode.parentNode.childNodes[t+1]._domManager:null},addManager:function(e,t){var n;t&amp;&amp;(n=t.getDomElementAsNext());var r=e.getDomElement();r instanceof Array?r.forEach(function(e){this.element.insertBefore(e,n)},this):this.element.insertBefore(r,n),this.setLayer(this.layer)},removeManager:function(e){e instanceof n.DomlessManager?e._domRef.forEach(function(e){this.element.removeChild(e)},this):this.element.removeChild(e.element),this.setLayer(this.layer)},setLayer:function(e){this.layer=e;var t=this.targetNode,n;if(t.childNodes)for(var r=0,i=t.childNodes.length;r&lt;i;r++)n=t.childNodes[r]._domManager,n&amp;&amp;n.setLayer(e)},render:function(e){var t=this.targetNode,r=n.Matrix.instance,i=r.stack,s=[];r.makeTransformMatrix(t,s),r.multiply(i[i.length-1],s,s),r.multiply(e,s,e),t._matrix=e;var o=typeof t._originX==&quot;number&quot;?t._originX:t.width/2||0,u=typeof t._originY==&quot;number&quot;?t._originY:t.height/2||0,a=[o,u];r.multiplyVec(s,a,a),t._offsetX=a[0]-o,t._offsetY=a[1]-u,t.parentNode&amp;&amp;!(t.parentNode instanceof n.Group)&amp;&amp;(t._offsetX+=t.parentNode._offsetX,t._offsetY+=t.parentNode._offsetY),this.style[n.ENV.VENDOR_PREFIX+&quot;Transform&quot;]=&quot;matrix(&quot;+s[0].toFixed(10)+&quot;,&quot;+s[1].toFixed(10)+&quot;,&quot;+s[2].toFixed(10)+&quot;,&quot;+s[3].toFixed(10)+&quot;,&quot;+s[4].toFixed(10)+&quot;,&quot;+s[5].toFixed(10)+&quot;)&quot;,this.domRender()},domRender:function(){var e=this.targetNode;e._style||(e._style={}),e.__styleStatus||(e.__styleStatus={}),e._style.width=e.width+&quot;px&quot;,e._style.height=e.height+&quot;px&quot;,e._style.opacity=e._opacity,e._style[&quot;background-color&quot;]=e._backgroundColor,typeof e._visible!=&quot;undefined&quot;&amp;&amp;(e._style.display=e._visible?&quot;block&quot;:&quot;none&quot;),typeof e.domRender==&quot;function&quot;&amp;&amp;e.domRender(this.element);for(var t in e._style)e.__styleStatus[t]!==e._style[t]&amp;&amp;(this.style.setProperty(t,e._style[t]),e.__styleStatus[t]=e._style[t])},_attachEvent:function(){n.ENV.TOUCH_ENABLED&amp;&amp;this.element.addEventListener(&quot;touchstart&quot;,this._setDomTarget,!0),this.element.addEventListener(&quot;mousedown&quot;,this._setDomTarget,!0)},_detachEvent:function(){n.ENV.TOUCH_ENABLED&amp;&amp;this.element.removeEventListener(&quot;touchstart&quot;,this._setDomTarget,!0),this.element.removeEventListener(&quot;mousedown&quot;,this._setDomTarget,!0)},remove:function(){this._detachEvent(),this.element=this.style=this.targetNode=null}}),n.DomlessManager=n.Class.create({initialize:function(e){this._domRef=[],this.targetNode=e},_register:function(e,t){var n=this._domRef.indexOf(t),r;e instanceof Array?n===-1?Array.prototype.push.apply(this._domRef,e):Array.prototype.splice.apply(this._domRef,[n,0].concat(e)):n===-1?this._domRef.push(e):this._domRef.splice(n,0,e)},getNextManager:function(e){var t=this.targetNode.parentNode.childNodes.indexOf(e.targetNode);return t!==this.targetNode.parentNode.childNodes.length-1?this.targetNode.parentNode.childNodes[t+1]._domManager:null},getDomElement:function(){var e=[];return this.targetNode.childNodes.forEach(function(t){e=e.concat(t._domManager.getDomElement())}),e},getDomElementAsNext:function(){if(this._domRef.length)return this._domRef[0];var e=this.getNextManager(this);return e?e.element:null},addManager:function(e,t){var r=this.targetNode.parentNode;r&amp;&amp;(t===null&amp;&amp;(t=this.getNextManager(this)),r instanceof n.Scene?r._layers.Dom._domManager.addManager(e,t):r._domManager.addManager(e,t));var i=t?t.getDomElementAsNext():null;this._register(e.getDomElement(),i),this.setLayer(this.layer)},removeManager:function(e){var t,n=this._domRef.indexOf(e.element);n!==-1&amp;&amp;(t=this._domRef[n],t.parentNode.removeChild(t),this._domRef.splice(n,1)),this.setLayer(this.layer)},setLayer:function(e){this.layer=e;var t=this.targetNode,n;if(t.childNodes)for(var r=0,i=t.childNodes.length;r&lt;i;r++)n=t.childNodes[r]._domManager,n&amp;&amp;n.setLayer(e)},render:function(e){var t=n.Matrix.instance,r=t.stack,i=this.targetNode,s=[];t.makeTransformMatrix(i,s),t.multiply(r[r.length-1],s,s),t.multiply(e,s,e),i._matrix=e;var o=typeof i._originX==&quot;number&quot;?i._originX:i.width/2||0,u=typeof i._originY==&quot;number&quot;?i._originY:i.height/2||0,a=[o,u];t.multiplyVec(s,a,a),i._offsetX=a[0]-o,i._offsetY=a[1]-u,r.push(s)},remove:function(){this._domRef=[],this.targetNode=null}}),n.DomLayer=n.Class.create(n.Group,{initialize:function(){var e=n.Game.instance;n.Group.call(this),this.width=this._width=e.width,this.height=this._height=e.height,this._touchEventTarget=null,this._element=document.createElement(&quot;div&quot;),this._element.style.width=this.width+&quot;px&quot;,this._element.style.height=this.height+&quot;px&quot;,this._element.style.position=&quot;absolute&quot;,this._domManager=new n.DomManager(this,this._element),this._domManager.layer=this;var t=[n.Event.TOUCH_START,n.Event.TOUCH_MOVE,n.Event.TOUCH_END];t.forEach(function(e){this.addEventListener(e,function(e){this._scene&amp;&amp;this._scene.dispatchEvent(e)})},this);var r=function(e){var t=e.node,s=e.next,o=e.target,u=s?s._domManager:null;n.DomLayer._attachDomManager(t,r,i),o._domManager.addManager(t._domManager,u);var a=new n.Event(n.Event.RENDER);o._domManager.layer._rendering(t,a)},i=function(e){var t=e.node,s=e.target;s._domManager.removeManager(t._domManager),n.DomLayer._detachDomManager(t,r,i)};this.addEventListener(&quot;childremoved&quot;,i),this.addEventListener(&quot;childadded&quot;,r)},_startRendering:function(){this.addEventListener(&quot;exitframe&quot;,this._onexitframe),this._onexitframe()},_stopRendering:function(){this.removeEventListener(&quot;exitframe&quot;,this._onexitframe),this._onexitframe()},_onexitframe:function(){this._rendering(this,new n.Event(n.Event.RENDER))},_rendering:function(e,t,r){var i;r||(r=[1,0,0,1,0,0]),e.dispatchEvent(t),e._domManager.render(r);if(e.childNodes)for(var s=0,o=e.childNodes.length;s&lt;o;s++)i=e.childNodes[s],this._rendering(i,t,r.slice());e._domManager instanceof n.DomlessManager&amp;&amp;n.Matrix.instance.stack.pop(),e._dirty=!1},_determineEventTarget:function(){return this._touchEventTarget&amp;&amp;this._touchEventTarget!==this?this._touchEventTarget:null}}),n.DomLayer._attachDomManager=function(e,t,r){var i;e._domManager||(e.addEventListener(&quot;childadded&quot;,t),e.addEventListener(&quot;childremoved&quot;,r),e instanceof n.Group?e._domManager=new n.DomlessManager(e):e._element?e._domManager=new n.DomManager(e,e._element):e._domManager=new n.DomManager(e,&quot;div&quot;));if(e.childNodes)for(var s=0,o=e.childNodes.length;s&lt;o;s++)i=e.childNodes[s],n.DomLayer._attachDomManager(i,t,r),e._domManager.addManager(i._domManager,null)},n.DomLayer._detachDomManager=function(e,t,r){var i;e.removeEventListener(&quot;childadded&quot;,t),e.removeEventListener(&quot;childremoved&quot;,r);if(e.childNodes)for(var s=0,o=e.childNodes.length;s&lt;o;s++)i=e.childNodes[s],e._domManager.removeManager(i._domManager,null),n.DomLayer._detachDomManager(i,t,r);e._domManager.remove(),delete e._domManager},n.CanvasLayer=n.Class.create(n.Group,{initialize:function(){var e=n.Game.instance;n.Group.call(this),this._cvsCache={matrix:[1,0,0,1,0,0],detectColor:&quot;#000000&quot;},this._cvsCache.layer=this,this.width=e.width,this.height=e.height,this._element=document.createElement(&quot;canvas&quot;),this._element.width=e.width,this._element.height=e.height,this._element.style.position=&quot;absolute&quot;,this._detect=document.createElement(&quot;canvas&quot;),this._detect.width=e.width,this._detect.height=e.height,this._detect.style.position=&quot;absolute&quot;,this._lastDetected=0,this.context=this._element.getContext(&quot;2d&quot;),this._dctx=this._detect.getContext(&quot;2d&quot;),this._colorManager=new n.DetectColorManager(16,256);var t=[n.Event.TOUCH_START,n.Event.TOUCH_MOVE,n.Event.TOUCH_END];t.forEach(function(e){this.addEventListener(e,function(e){this._scene&amp;&amp;this._scene.dispatchEvent(e)})},this);var r=function(e){var t=e.node,s=e.target,o;s instanceof n.CanvasLayer?o=s._scene._layers.Canvas:o=s.scene._layers.Canvas,n.CanvasLayer._attachCache(t,o,r,i);var u=new n.Event(n.Event.RENDER);s._dirty&amp;&amp;s._updateCoordinate(),n.Matrix.instance.stack.push(s._matrix),o._rendering(t,u),n.Matrix.instance.stack.pop(s._matrix)},i=function(e){var t=e.node,s=e.target,o;s instanceof n.CanvasLayer?o=s._scene._layers.Canvas:o=s.scene._layers.Canvas,n.CanvasLayer._detachCache(t,o,r,i)};this.addEventListener(&quot;childremoved&quot;,i),this.addEventListener(&quot;childadded&quot;,r)},_startRendering:function(){this.addEventListener(&quot;exitframe&quot;,this._onexitframe),this._onexitframe(new n.Event(n.Event.RENDER))},_stopRendering:function(){this.removeEventListener(&quot;render&quot;,this._onexitframe),this._onexitframe(new n.Event(n.Event.RENDER))},_onexitframe:function(){var e=n.Game.instance,t=this.context;t.clearRect(0,0,e.width,e.height);var r=new n.Event(n.Event.RENDER);this._rendering(this,r)},_rendering:function(e,t){var r=n.Game.instance,i=n.Matrix.instance,s=i.stack,o=this.context,u;o.save(),e.dispatchEvent(t),e.compositeOperation?o.globalCompositeOperation=e.compositeOperation:o.globalCompositeOperation=&quot;source-over&quot;,o.globalAlpha=typeof e._opacity==&quot;number&quot;?e._opacity:1,this._transform(e,o);if(typeof e._visible==&quot;undefined&quot;||e._visible)e._backgroundColor&amp;&amp;(o.fillStyle=e._backgroundColor,o.fillRect(0,0,e._width,e._height)),e.cvsRender&amp;&amp;e.cvsRender(o),r._debug&amp;&amp;(e instanceof n.Label||e instanceof n.Sprite?o.strokeStyle=&quot;#ff0000&quot;:o.strokeStyle=&quot;#0000ff&quot;,o.strokeRect(0,0,e._width,e._height)),e._clipping&amp;&amp;o.clip();if(e.childNodes)for(var a=0,f=e.childNodes.length;a&lt;f;a++)u=e.childNodes[a],this._rendering(u,t);o.restore(),n.Matrix.instance.stack.pop()},_detectrendering:function(e){var t=this._dctx,r;t.save(),this._transform(e,t),t.fillStyle=e._cvsCache.detectColor,e._touchEnabled&amp;&amp;(e.detectRender?e.detectRender(t):t.fillRect(0,0,e.width,e.height)),e._clipping&amp;&amp;t.clip();if(e.childNodes)for(var i=0,s=e.childNodes.length;i&lt;s;i++)r=e.childNodes[i],this._detectrendering(r);t.restore(),n.Matrix.instance.stack.pop()},_transform:function(e,t){var r=n.Matrix.instance,i=r.stack,s;e._dirty?(r.makeTransformMatrix(e,e._cvsCache.matrix),s=[],r.multiply(i[i.length-1],e._cvsCache.matrix,s),e._matrix=s):s=e._matrix,i.push(s),t.setTransform.apply(t,s);var o=typeof e._originX==&quot;number&quot;?e._originX:e._width/2||0,u=typeof e._originY==&quot;number&quot;?e._originY:e._height/2||0,a=[o,u];r.multiplyVec(s,a,a),e._offsetX=a[0]-o,e._offsetY=a[1]-u,e._dirty=!1},_determineEventTarget:function(e){return this._getEntityByPosition(e.x,e.y)},_getEntityByPosition:function(e,t){var r=n.Game.instance,i=this._dctx;this._lastDetected&lt;r.frame&amp;&amp;(i.clearRect(0,0,this.width,this.height),this._detectrendering(this),this._lastDetected=r.frame);var s=i.getImageData(e,t,1,1).data;return this._colorManager.getSpriteByColor(s)}}),n.CanvasLayer._attachCache=function(e,t,r,i){var s;e._cvsCache||(e._cvsCache={},e._cvsCache.matrix=[1,0,0,1,0,0],e._cvsCache.detectColor=&quot;rgba(&quot;+t._colorManager.attachDetectColor(e)+&quot;)&quot;,e.addEventListener(&quot;childadded&quot;,r),e.addEventListener(&quot;childremoved&quot;,i));if(e.childNodes)for(var o=0,u=e.childNodes.length;o&lt;u;o++)s=e.childNodes[o],n.CanvasLayer._attachCache(s,t,r,i)},n.CanvasLayer._detachCache=function(e,t,r,i){var s;e._cvsCache&amp;&amp;(t._colorManager.detachDetectColor(e),e.removeEventListener(&quot;childadded&quot;,r),e.removeEventListener(&quot;childremoved&quot;,i),delete e._cvsCache);if(e.childNodes)for(var o=0,u=e.childNodes.length;o&lt;u;o++)s=e.childNodes[o],n.CanvasLayer._detachCache(s,t,r,i)},n.Scene=n.Class.create(n.Group,{initialize:function(){var e=n.Game.instance;n.Group.call(this),this.width=e.width,this.height=e.height,this.scene=this,this._backgroundColor=null,this._element=document.createElement(&quot;div&quot;),this._element.style.width=this.width+&quot;px&quot;,this._element.style.height=this.height+&quot;px&quot;,this._element.style.position=&quot;absolute&quot;,this._element.style.overflow=&quot;hidden&quot;,this._element.style[n.ENV.VENDOR_PREFIX+&quot;TransformOrigin&quot;]=&quot;0 0&quot;,this._element.style[n.ENV.VENDOR_PREFIX+&quot;Transform&quot;]=&quot;scale(&quot;+n.Game.instance.scale+&quot;)&quot;,this._layers={},this._layerPriority=[],this.addLayer(&quot;Canvas&quot;),this.addLayer(&quot;Dom&quot;),this.addEventListener(n.Event.CHILD_ADDED,this._onchildadded),this.addEventListener(n.Event.CHILD_REMOVED,this._onchildremoved),this.addEventListener(n.Event.ENTER,this._onenter),this.addEventListener(n.Event.EXIT,this._onexit);var t=this;this._dispatchExitframe=function(){var e;for(var r in t._layers)e=t._layers[r],e.dispatchEvent(new n.Event(n.Event.EXIT_FRAME))}},x:{get:function(){return this._x},set:function(e){this._x=e;for(var t in this._layers)this._layers[t].x=e}},y:{get:function(){return this._y},set:function(e){this._y=e;for(var t in this._layers)this._layers[t].y=e}},rotation:{get:function(){return this._rotation},set:function(e){this._rotation=e;for(var t in this._layers)this._layers[t].rotation=e}},scaleX:{get:function(){return this._scaleX},set:function(e){this._scaleX=e;for(var t in this._layers)this._layers[t].scaleX=e}},scaleY:{get:function(){return this._scaleY},set:function(e){this._scaleY=e;for(var t in this._layers)this._layers[t].scaleY=e}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=this._element.style.backgroundColor=e}},addLayer:function(e,t){var r=n.Game.instance;if(this._layers[e])return;var i=new n[e+&quot;Layer&quot;];r.currentScene===this&amp;&amp;i._startRendering(),this._layers[e]=i;var s=i._element;if(typeof t==&quot;number&quot;){var o=this._element.childNodes.indexOf(t);this._element.insertBefore(s,o),this._layerPriority.splice(t,0,e)}else this._element.appendChild(s),this._layerPriority.push(e);i._scene=this},_determineEventTarget:function(e){var t,n;for(var r=this._layerPriority.length-1;r&gt;=0;r--){t=this._layers[this._layerPriority[r]],n=t._determineEventTarget(e);if(n)break}return n||(n=this),n},_onchildadded:function(e){var t=e.node,n=e.next;t._element?(this._layers.Dom.insertBefore(t,n),t._layer=this._layers.Dom):(this._layers.Canvas.insertBefore(t,n),t._layer=this._layers.Canvas),t.parentNode=this},_onchildremoved:function(e){var t=e.node;t._layer.removeChild(t),t._layer=null},_onenter:function(){for(var e in this._layers)this._layers[e]._startRendering();n.Game.instance.addEventListener(&quot;exitframe&quot;,this._dispatchExitframe)},_onexit:function(){for(var e in this._layers)this._layers[e]._stopRendering();n.Game.instance.removeEventListener(&quot;exitframe&quot;,this._dispatchExitframe)}}),n.Surface=n.Class.create(n.EventTarget,{initialize:function(e,t){n.EventTarget.call(this);var r=n.Core.instance;this.width=e,this.height=t,this.context=null;var i=&quot;enchant-surface&quot;+r._surfaceID++;if(document.getCSSCanvasContext){this.context=document.getCSSCanvasContext(&quot;2d&quot;,i,e,t),this._element=this.context.canvas,this._css=&quot;-webkit-canvas(&quot;+i+&quot;)&quot;;var s=this.context}else document.mozSetImageElement?(this._element=document.createElement(&quot;canvas&quot;),this._element.width=e,this._element.height=t,this._css=&quot;-moz-element(#&quot;+i+&quot;)&quot;,this.context=this._element.getContext(&quot;2d&quot;),document.mozSetImageElement(i,this._element)):(this._element=document.createElement(&quot;canvas&quot;),this._element.width=e,this._element.height=t,this._element.style.position=&quot;absolute&quot;,this.context=this._element.getContext(&quot;2d&quot;),n.ENV.CANVAS_DRAWING_METHODS.forEach(function(e){var t=this.context[e];this.context[e]=function(){t.apply(this,arguments),this._dirty=!0}},this))},getPixel:function(e,t){return this.context.getImageData(e,t,1,1).data},setPixel:function(e,t,n,r,i,s){var o=this.context.createImageData(1,1);o.data[0]=n,o.data[1]=r,o.data[2]=i,o.data[3]=s,this.context.putImageData(o,e,t)},clear:function(){this.context.clearRect(0,0,this.width,this.height)},draw:function(e){e=e._element;if(arguments.length===1)this.context.drawImage(e,0,0);else{var t=arguments;t[0]=e,this.context.drawImage.apply(this.context,t)}},clone:function(){var e=new n.Surface(this.width,this.height);return e.draw(this),e},toDataURL:function(){var e=this._element.src;return e?e.slice(0,5)===&quot;data:&quot;?e:this.clone().toDataURL():this._element.toDataURL()}}),n.Surface.load=function(e,t){var r=new Image,i=Object.create(n.Surface.prototype,{context:{value:null},_css:{value:&quot;url(&quot;+e+&quot;)&quot;},_element:{value:r}});return n.EventTarget.call(i),r.src=e,r.onerror=function(){throw new Error(&quot;Cannot load an asset: &quot;+r.src)},r.onload=function(){i.width=r.width,i.height=r.height,i.dispatchEvent(new n.Event(&quot;load&quot;))},i},e.webkitAudioContext&amp;&amp;n.ENV.USE_WEBAUDIO?(n.Game._loadFuncs.mp3=n.Game._loadFuncs.aac=n.Game._loadFuncs.m4a=n.Game._loadFuncs.wav=n.Game._loadFuncs.ogg=function(e,t,r){this.assets[e]=n.Sound.load(e,&quot;audio/&quot;+r,t)},n.Sound=n.Class.create(n.EventTarget,{initialize:function(){var e=n.Sound.audioContext;n.EventTarget.call(this),this.src=e.createBufferSource(),this.buffer=null,this._volume=1,this._currentTime=0,this._state=0,this.connectTarget=n.Sound.destination},play:function(e){var t=n.Sound.audioContext;this._state===2?this.src.connect(this.connectTarget):(this._state===1&amp;&amp;!e&amp;&amp;this.src.disconnect(this.connectTarget),this.src=t.createBufferSource(),this.src.buffer=this.buffer,this.src.gain.value=this._volume,this.src.connect(this.connectTarget),this.src.noteOn(0)),this._state=1},pause:function(){var e=n.Sound.audioContext;this.src.disconnect(this.connectTarget),this._state=2},stop:function(){this.src.noteOff(0),this._state=0},clone:function(){var e=new n.Sound;return e.buffer=this.buffer,e},dulation:{get:function(){return this.buffer?this.buffer.dulation:0}},volume:{get:function(){return this._volume},set:function(e){e=Math.max(0,Math.min(1,e)),this._volume=e,this.src&amp;&amp;(this.src.gain.value=e)}},currentTime:{get:function(){return e.console.log(&quot;currentTime is not allowed&quot;),this._currentTime},set:function(t){e.console.log(&quot;currentTime is not allowed&quot;),this._currentTime=t}}}),n.Sound.load=function(t,r,i){var s=n.Sound.audioContext,o=new XMLHttpRequest,u=new n.Sound,a=&quot;audio/&quot;+n.Game.findExt(t);return o.responseType=&quot;arraybuffer&quot;,o.open(&quot;GET&quot;,t,!0),o.onload=function(){s.decodeAudioData(o.response,function(e){u.buffer=e,i()},function(t){e.console.log(t)})},o.send(null),u},n.Sound.audioContext=new webkitAudioContext,n.Sound.destination=n.Sound.audioContext.destination):(n.Sound=n.Class.create(n.EventTarget,{initialize:function(){throw n.EventTarget.call(this),this.duration=0,new Error(&quot;Illegal Constructor&quot;)},play:function(){this._element&amp;&amp;this._element.play()},pause:function(){this._element&amp;&amp;this._element.pause()},stop:function(){this.pause(),this.currentTime=0},clone:function(){var e;if(this._element instanceof Audio)e=Object.create(n.Sound.prototype,{_element:{value:this._element.cloneNode(!1)},duration:{value:this.duration}});else{if(n.ENV.USE_FLASH_SOUND)return this;e=Object.create(n.Sound.prototype)}return n.EventTarget.call(e),e},currentTime:{get:function(){return this._element?this._element.currentTime:0},set:function(e){this._element&amp;&amp;(this._element.currentTime=e)}},volume:{get:function(){return this._element?this._element.volume:1},set:function(e){this._element&amp;&amp;(this._element.volume=e)}}}),n.Sound.load=function(t,r){if(r==null){var i=n.Game.findExt(t);i?r=&quot;audio/&quot;+i:r=&quot;&quot;}r=r.replace(&quot;mp3&quot;,&quot;mpeg&quot;).replace(&quot;m4a&quot;,&quot;mp4&quot;);var s=Object.create(n.Sound.prototype);n.EventTarget.call(s);var o=new Audio;if(!n.ENV.SOUND_ENABLED_ON_MOBILE_SAFARI&amp;&amp;n.ENV.VENDOR_PREFIX===&quot;webkit&quot;&amp;&amp;n.ENV.TOUCH_ENABLED)e.setTimeout(function(){s.dispatchEvent(new n.Event(&quot;load&quot;))},0);else if(!n.ENV.USE_FLASH_SOUND&amp;&amp;o.canPlayType(r))o.src=t,o.load(),o.autoplay=!1,o.onerror=function(){throw new Error(&quot;Cannot load an asset: &quot;+o.src)},o.addEventListener(&quot;canplaythrough&quot;,function(){s.duration=o.duration,s.dispatchEvent(new n.Event(&quot;load&quot;))},!1),s._element=o;else if(r===&quot;audio/mpeg&quot;){var u=document.createElement(&quot;embed&quot;),a=&quot;enchant-audio&quot;+n.Game.instance._soundID++;u.width=u.height=1,u.name=a,u.src=&quot;sound.swf?id=&quot;+a+&quot;&amp;src=&quot;+t,u.allowscriptaccess=&quot;always&quot;,u.style.position=&quot;absolute&quot;,u.style.left=&quot;-1px&quot;,s.addEventListener(&quot;load&quot;,function(){Object.defineProperties(u,{currentTime:{get:function(){return u.getCurrentTime()},set:function(e){u.setCurrentTime(e)}},volume:{get:function(){return u.getVolume()},set:function(e){u.setVolume(e)}}}),s._element=u,s.duration=u.getDuration()}),n.Game.instance._element.appendChild(u),n.Sound[a]=s}else e.setTimeout(function(){s.dispatchEvent(new n.Event(&quot;load&quot;))},0);return s}),n.Easing={LINEAR:function(e,t,n,r){return n*e/r+t},SWING:function(e,t,n,r){return n*(.5-Math.cos(e/r*Math.PI)/2)+t},QUAD_EASEIN:function(e,t,n,r){return n*(e/=r)*e+t},QUAD_EASEOUT:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},QUAD_EASEINOUT:function(e,t,n,r){return(e/=r/2)&lt;1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},CUBIC_EASEIN:function(e,t,n,r){return n*(e/=r)*e*e+t},CUBIC_EASEOUT:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},CUBIC_EASEINOUT:function(e,t,n,r){return(e/=r/2)&lt;1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},QUART_EASEIN:function(e,t,n,r){return n*(e/=r)*e*e*e+t},QUART_EASEOUT:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},QUART_EASEINOUT:function(e,t,n,r){return(e/=r/2)&lt;1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},QUINT_EASEIN:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},QUINT_EASEOUT:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},QUINT_EASEINOUT:function(e,t,n,r){return(e/=r/2)&lt;1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},SIN_EASEIN:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},SIN_EASEOUT:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},SIN_EASEINOUT:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},CIRC_EASEIN:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},CIRC_EASEOUT:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},CIRC_EASEINOUT:function(e,t,n,r){return(e/=r/2)&lt;1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},ELASTIC_EASEIN:function(e,t,n,r,i,s){if(e===0)return t;if((e/=r)===1)return t+n;s||(s=r*.3);var o;return!i||i&lt;Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t},ELASTIC_EASEOUT:function(e,t,n,r,i,s){if(e===0)return t;if((e/=r)===1)return t+n;s||(s=r*.3);var o;return!i||i&lt;Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t},ELASTIC_EASEINOUT:function(e,t,n,r,i,s){if(e===0)return t;if((e/=r/2)===2)return t+n;s||(s=r*.3*1.5);var o;return!i||i&lt;Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e&lt;1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t},BOUNCE_EASEOUT:function(e,t,n,r){return(e/=r)&lt;1/2.75?n*7.5625*e*e+t:e&lt;2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e&lt;2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BOUNCE_EASEIN:function(e,t,r,i){return r-n.Easing.BOUNCE_EASEOUT(i-e,0,r,i)+t},BOUNCE_EASEINOUT:function(e,t,r,i){return e&lt;i/2?n.Easing.BOUNCE_EASEIN(e*2,0,r,i)*.5+t:n.Easing.BOUNCE_EASEOUT(e*2-i,0,r,i)*.5+r*.5+t},BACK_EASEIN:function(e,n,r,i,s){return s===t&amp;&amp;(s=1.70158),r*(e/=i)*e*((s+1)*e-s)+n},BACK_EASEOUT:function(e,n,r,i,s){return s===t&amp;&amp;(s=1.70158),r*((e=e/i-1)*e*((s+1)*e+s)+1)+n},BACK_EASEINOUT:function(e,n,r,i,s){return s===t&amp;&amp;(s=1.70158),(e/=i/2)&lt;1?r/2*e*e*(((s*=1.525)+1)*e-s)+n:r/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+n},EXPO_EASEIN:function(e,t,n,r){return e===0?t:n*Math.pow(2,10*(e/r-1))+t},EXPO_EASEOUT:function(e,t,n,r){return e===r?t+n:n*(-Math.pow(2,-10*e/r)+1)+t},EXPO_EASEINOUT:function(e,t,n,r){return e===0?t:e===r?t+n:(e/=r/2)&lt;1?n/2*Math.pow(2,10*(e-1))+t:n/2*(-Math.pow(2,-10*--e)+2)+t}},n.ActionEventTarget=n.Class.create(n.EventTarget,{initialize:function(){n.EventTarget.apply(this,arguments)},dispatchEvent:function(e){var t;this.node?(t=this.node,e.target=t,e.localX=e.x-t._offsetX,e.localY=e.y-t._offsetY):this.node=null,this[&quot;on&quot;+e.type]!=null&amp;&amp;this[&quot;on&quot;+e.type].call(t,e);var n=this._listeners[e.type];if(n!=null){n=n.slice();for(var r=0,i=n.length;r&lt;i;r++)n[r].call(t,e)}}}),n.Timeline=n.Class.create(n.EventTarget,{initialize:function(e){n.EventTarget.call(this),this.node=e,this.queue=[],this.paused=!1,this.looped=!1,this.isFrameBased=!0,this._parallel=null,this._activated=!1,this.addEventListener(n.Event.ENTER_FRAME,this.tick)},_deactivateTimeline:function(){this._activated&amp;&amp;(this._activated=!1,this.node.removeEventListener(&quot;enterframe&quot;,this._nodeEventListener))},_activateTimeline:function(){!this._activated&amp;&amp;!this.paused&amp;&amp;(this.node.addEventListener(&quot;enterframe&quot;,this._nodeEventListener),this._activated=!0)},setFrameBased:function(){this.isFrameBased=!0},setTimeBased:function(){this.isFrameBased=!1},next:function(e){var t,r=this.queue.shift();t=new n.Event(&quot;actionend&quot;),t.timeline=this,r.dispatchEvent(t);if(this.queue.length===0){this._activated=!1,this.node.removeEventListener(&quot;enterframe&quot;,this._nodeEventListener);return}this.looped?(t=new n.Event(&quot;removedfromtimeline&quot;),t.timeline=this,r.dispatchEvent(t),r.frame=0,this.add(r)):(t=new n.Event(&quot;removedfromtimeline&quot;),t.timeline=this,r.dispatchEvent(t));if(e&gt;0||this.queue[0]&amp;&amp;this.queue[0].time===0){var i=new n.Event(&quot;enterframe&quot;);i.elapsed=e,this.dispatchEvent(i)}},tick:function(e){if(this.paused)return;if(this.queue.length&gt;0){var t=this.queue[0];if(t.frame===0){var r;r=new n.Event(&quot;actionstart&quot;),r.timeline=this,t.dispatchEvent(r)}var i=new n.Event(&quot;actiontick&quot;);i.timeline=this,this.isFrameBased?i.elapsed=1:i.elapsed=e.elapsed,t.dispatchEvent(i)}},add:function(e){if(!this._activated){var t=this;this._nodeEventListener=function(e){t.dispatchEvent(e)},this.node.addEventListener(&quot;enterframe&quot;,this._nodeEventListener),this._activated=!0}this._parallel?(this._parallel.actions.push(e),this._parallel=null):this.queue.push(e),e.frame=0;var r=new n.Event(&quot;addedtotimeline&quot;);return r.timeline=this,e.dispatchEvent(r),r=new n.Event(&quot;actionadded&quot;),r.action=e,this.dispatchEvent(r),this},action:function(e){return this.add(new n.Action(e))},tween:function(e){return this.add(new n.Tween(e))},clear:function(){var e=new n.Event(&quot;removedfromtimeline&quot;);e.timeline=this;for(var t=0,r=this.queue.length;t&lt;r;t++)this.queue[t].dispatchEvent(e);return this.queue=[],this._deactivateTimeline(),this},skip:function(e){var t=new n.Event(&quot;enterframe&quot;);this.isFrameBased?t.elapsed=1:(t.elapsed=e,e=1);while(e--)this.dispatchEvent(t);return this},pause:function(){return this.paused||(this.paused=!0,this._deactivateTimeline()),this},resume:function(){return this.paused&amp;&amp;(this.paused=!1,this._activateTimeline()),this},loop:function(){return this.looped=!0,this},unloop:function(){return this.looped=!1,this},delay:function(e){return this.add(new n.Action({time:e})),this},wait:function(e){return this},then:function(e){var t=this;return this.add(new n.Action({onactiontick:function(n){e.call(t.node)},time:0})),this},exec:function(e){this.then(e)},cue:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&amp;&amp;(this.delay(n-t),this.then(e[n]),t=n)},repeat:function(e,t){return this.add(new n.Action({onactiontick:function(t){e.call(this)},time:t})),this},and:function(){var e=this.queue.pop();if(e instanceof n.ParallelAction)this._parallel=e,this.queue.push(e);else{var t=new n.ParallelAction;t.actions.push(e),this.queue.push(t),this._parallel=t}return this},or:function(){return this},doAll:function(e){return this},waitAll:function(){return this},waitUntil:function(e){var t=this;return this.add(new n.Action({onactionstart:e,onactiontick:function(n){e.call(this)&amp;&amp;t.next()}})),this},fadeTo:function(e,t,n){return this.tween({opacity:e,time:t,easing:n}),this},fadeIn:function(e,t){return this.fadeTo(1,e,t)},fadeOut:function(e,t){return this.fadeTo(0,e,t)},moveTo:function(e,t,n,r){return this.tween({x:e,y:t,time:n,easing:r})},moveX:function(e,t,n){return this.tween({x:e,time:t,easing:n})},moveY:function(e,t,n){return this.tween({y:e,time:t,easing:n})},moveBy:function(e,t,n,r){return this.tween({x:function(){return this.x+e},y:function(){return this.y+t},time:n,easing:r})},hide:function(){return this.then(function(){this.opacity=0})},show:function(){return this.then(function(){this.opacity=1})},removeFromScene:function(){return this.then(function(){this.scene.removeChild(this)})},scaleTo:function(e,t,n){return typeof n==&quot;number&quot;?this.tween({scaleX:arguments[0],scaleY:arguments[1],time:arguments[2],easing:arguments[3]}):this.tween({scaleX:e,scaleY:e,time:t,easing:n})},scaleBy:function(e,t,n){return typeof n==&quot;number&quot;?this.tween({scaleX:function(){return this.scaleX*arguments[0]},scaleY:function(){return this.scaleY*arguments[1]},time:arguments[2],easing:arguments[3]}):this.tween({scaleX:function(){return this.scaleX*e},scaleY:function(){return this.scaleY*e},time:t,easing:n})},rotateTo:function(e,t,n){return this.tween({rotation:e,time:t,easing:n})},rotateBy:function(e,t,n){return this.tween({rotation:function(){return this.rotation+e},time:t,easing:n})}}),n.Action=n.Class.create(n.ActionEventTarget,{initialize:function(e){n.ActionEventTarget.call(this),this.time=null,this.frame=0;for(var t in e)e.hasOwnProperty(t)&amp;&amp;e[t]!=null&amp;&amp;(this[t]=e[t]);var r=this;this.timeline=null,this.node=null,this.addEventListener(n.Event.ADDED_TO_TIMELINE,function(e){r.timeline=e.timeline,r.node=e.timeline.node,r.frame=0}),this.addEventListener(n.Event.REMOVED_FROM_TIMELINE,function(){r.timeline=null,r.node=null,r.frame=0}),this.addEventListener(n.Event.ACTION_TICK,function(e){var t=r.time-(r.frame+e.elapsed);r.time!=null&amp;&amp;t&lt;=0?(r.frame=r.time,e.timeline.next(-t)):r.frame+=e.elapsed})}}),n.ParallelAction=n.Class.create(n.Action,{initialize:function(e){n.Action.call(this,e);var t=this.timeline,r=this.node;this.actions=[],this.endedActions=[];var i=this;this.addEventListener(n.Event.ACTION_START,function(e){for(var t=0,n=i.actions.length;t&lt;n;t++)i.actions[t].dispatchEvent(e)}),this.addEventListener(n.Event.ACTION_TICK,function(e){var t,r,s={next:function(e){var s=i.actions[t];i.actions.splice(t--,1),r=i.actions.length,i.endedActions.push(s);var o=new n.Event(&quot;actionend&quot;);o.timeline=this,s.dispatchEvent(o),o=new n.Event(&quot;removedfromtimeline&quot;),o.timeline=this,s.dispatchEvent(o)}},o=new n.Event(&quot;actiontick&quot;);o.timeline=s,o.elapsed=e.elapsed;for(t=0,r=i.actions.length;t&lt;r;t++)i.actions[t].dispatchEvent(o);i.actions.length===0&amp;&amp;e.timeline.next()}),this.addEventListener(n.Event.ADDED_TO_TIMELINE,function(e){for(var t=0,n=i.actions.length;t&lt;n;t++)i.actions[t].dispatchEvent(e)}),this.addEventListener(n.Event.REMOVED_FROM_TIMELINE,function(){this.actions=this.endedActions,this.endedActions=[]})}}),n.Tween=n.Class.create(n.Action,{initialize:function(e){var t={},r={};n.Action.call(this,e),this.easing==null&amp;&amp;(this.easing=function(e,t,n,r){return n*e/r+t});var i=this;this.addEventListener(n.Event.ACTION_START,function(){var n=[&quot;frame&quot;,&quot;time&quot;,&quot;callback&quot;,&quot;onactiontick&quot;,&quot;onactionstart&quot;,&quot;onactionend&quot;];for(var s in e)if(e.hasOwnProperty(s)){var o;typeof e[s]==&quot;function&quot;?o=e[s].call(i.node):o=e[s],n.indexOf(s)===-1&amp;&amp;(t[s]=i.node[s],r[s]=o)}}),this.addEventListener(n.Event.ACTION_TICK,function(e){var n=i.time===0?1:i.easing(Math.min(i.time,i.frame+e.elapsed),0,1,i.time)-i.easing(i.frame,0,1,i.time);for(var s in r)if(r.hasOwnProperty(s)){if(typeof this[s]==&quot;undefined&quot;)continue;i.node[s]+=(r[s]-t[s])*n,Math.abs(i.node[s])&lt;1e-7&amp;&amp;(i.node[s]=0)}})}})})(window);</div></pre></div>
          </td>
        </tr>
      </table>
  </div>

          </div>
        </div>
      </div>

      <a href="#jump-to-line" rel="facebox" data-hotkey="l" class="js-jump-to-line" style="display:none">Jump to Line</a>
      <div id="jump-to-line" style="display:none">
        <h2>Jump to Line</h2>
        <form accept-charset="UTF-8" class="js-jump-to-line-form">
          <input class="textfield js-jump-to-line-field" type="text">
          <div class="full-button">
            <button type="submit" class="classy">
              Go
            </button>
          </div>
        </form>
      </div>

    </div>
</div>

<div id="js-frame-loading-template" class="frame frame-loading large-loading-area" style="display:none;">
  <img class="js-frame-loading-spinner" src="https://a248.e.akamai.net/assets.github.com/images/spinners/octocat-spinner-128.gif?1347543527" height="64" width="64">
</div>


        </div>
      </div>
      <div class="context-overlay"></div>
    </div>

      <div id="footer-push"></div><!-- hack for sticky footer -->
    </div><!-- end of wrapper - hack for sticky footer -->

      <!-- footer -->
      <div id="footer">
  <div class="container clearfix">

      <dl class="footer_nav">
        <dt>GitHub</dt>
        <dd><a href="https://github.com/about">About us</a></dd>
        <dd><a href="https://github.com/blog">Blog</a></dd>
        <dd><a href="https://github.com/contact">Contact &amp; support</a></dd>
        <dd><a href="http://enterprise.github.com/">GitHub Enterprise</a></dd>
        <dd><a href="http://status.github.com/">Site status</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Applications</dt>
        <dd><a href="http://mac.github.com/">GitHub for Mac</a></dd>
        <dd><a href="http://windows.github.com/">GitHub for Windows</a></dd>
        <dd><a href="http://eclipse.github.com/">GitHub for Eclipse</a></dd>
        <dd><a href="http://mobile.github.com/">GitHub mobile apps</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Services</dt>
        <dd><a href="http://get.gaug.es/">Gauges: Web analytics</a></dd>
        <dd><a href="http://speakerdeck.com">Speaker Deck: Presentations</a></dd>
        <dd><a href="https://gist.github.com">Gist: Code snippets</a></dd>
        <dd><a href="http://jobs.github.com/">Job board</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Documentation</dt>
        <dd><a href="http://help.github.com/">GitHub Help</a></dd>
        <dd><a href="http://developer.github.com/">Developer API</a></dd>
        <dd><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></dd>
        <dd><a href="http://pages.github.com/">GitHub Pages</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>More</dt>
        <dd><a href="http://training.github.com/">Training</a></dd>
        <dd><a href="https://github.com/edu">Students &amp; teachers</a></dd>
        <dd><a href="http://shop.github.com">The Shop</a></dd>
        <dd><a href="/plans">Plans &amp; pricing</a></dd>
        <dd><a href="http://octodex.github.com/">The Octodex</a></dd>
      </dl>

      <hr class="footer-divider">


    <p class="right">&copy; 2012 <span title="0.08277s from fe16.rs.github.com">GitHub</span> Inc. All rights reserved.</p>
    <a class="left" href="https://github.com/">
      <span class="mega-icon mega-icon-invertocat"></span>
    </a>
    <ul id="legal">
        <li><a href="https://github.com/site/terms">Terms of Service</a></li>
        <li><a href="https://github.com/site/privacy">Privacy</a></li>
        <li><a href="https://github.com/security">Security</a></li>
    </ul>

  </div><!-- /.container -->

</div><!-- /.#footer -->


    

<div id="keyboard_shortcuts_pane" class="instapaper_ignore readability-extra" style="display:none">
  <h2>Keyboard Shortcuts <small><a href="#" class="js-see-all-keyboard-shortcuts">(see all)</a></small></h2>

  <div class="columns threecols">
    <div class="column first">
      <h3>Site wide shortcuts</h3>
      <dl class="keyboard-mappings">
        <dt>s</dt>
        <dd>Focus command bar</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>?</dt>
        <dd>Bring up this help dialog</dd>
      </dl>
    </div><!-- /.column.first -->

    <div class="column middle" style='display:none'>
      <h3>Commit list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selection down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selection up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>c <em>or</em> o <em>or</em> enter</dt>
        <dd>Open commit</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>y</dt>
        <dd>Expand URL to its canonical form</dd>
      </dl>
    </div><!-- /.column.first -->

    <div class="column last js-hidden-pane" style='display:none'>
      <h3>Pull request list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selection down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selection up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt><span class="platform-mac"></span><span class="platform-other">ctrl</span> <em>+</em> enter</dt>
        <dd>Submit comment</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt><span class="platform-mac"></span><span class="platform-other">ctrl</span> <em>+</em> shift p</dt>
        <dd>Preview comment</dd>
      </dl>
    </div><!-- /.columns.last -->

  </div><!-- /.columns.equacols -->

  <div class="js-hidden-pane" style='display:none'>
    <div class="rule"></div>

    <h3>Issues</h3>

    <div class="columns threecols">
      <div class="column first">
        <dl class="keyboard-mappings">
          <dt>j</dt>
          <dd>Move selection down</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>k</dt>
          <dd>Move selection up</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>x</dt>
          <dd>Toggle selection</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>o <em>or</em> enter</dt>
          <dd>Open issue</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt><span class="platform-mac"></span><span class="platform-other">ctrl</span> <em>+</em> enter</dt>
          <dd>Submit comment</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt><span class="platform-mac"></span><span class="platform-other">ctrl</span> <em>+</em> shift p</dt>
          <dd>Preview comment</dd>
        </dl>
      </div><!-- /.column.first -->
      <div class="column last">
        <dl class="keyboard-mappings">
          <dt>c</dt>
          <dd>Create issue</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>l</dt>
          <dd>Create label</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>i</dt>
          <dd>Back to inbox</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>u</dt>
          <dd>Back to issues</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>/</dt>
          <dd>Focus issues search</dd>
        </dl>
      </div>
    </div>
  </div>

  <div class="js-hidden-pane" style='display:none'>
    <div class="rule"></div>

    <h3>Issues Dashboard</h3>

    <div class="columns threecols">
      <div class="column first">
        <dl class="keyboard-mappings">
          <dt>j</dt>
          <dd>Move selection down</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>k</dt>
          <dd>Move selection up</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>o <em>or</em> enter</dt>
          <dd>Open issue</dd>
        </dl>
      </div><!-- /.column.first -->
    </div>
  </div>

  <div class="js-hidden-pane" style='display:none'>
    <div class="rule"></div>

    <h3>Network Graph</h3>
    <div class="columns equacols">
      <div class="column first">
        <dl class="keyboard-mappings">
          <dt><span class="badmono"></span> <em>or</em> h</dt>
          <dd>Scroll left</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt><span class="badmono"></span> <em>or</em> l</dt>
          <dd>Scroll right</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt><span class="badmono"></span> <em>or</em> k</dt>
          <dd>Scroll up</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt><span class="badmono"></span> <em>or</em> j</dt>
          <dd>Scroll down</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>t</dt>
          <dd>Toggle visibility of head labels</dd>
        </dl>
      </div><!-- /.column.first -->
      <div class="column last">
        <dl class="keyboard-mappings">
          <dt>shift <span class="badmono"></span> <em>or</em> shift h</dt>
          <dd>Scroll all the way left</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>shift <span class="badmono"></span> <em>or</em> shift l</dt>
          <dd>Scroll all the way right</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>shift <span class="badmono"></span> <em>or</em> shift k</dt>
          <dd>Scroll all the way up</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>shift <span class="badmono"></span> <em>or</em> shift j</dt>
          <dd>Scroll all the way down</dd>
        </dl>
      </div><!-- /.column.last -->
    </div>
  </div>

  <div class="js-hidden-pane" >
    <div class="rule"></div>
    <div class="columns threecols">
      <div class="column first js-hidden-pane" >
        <h3>Source Code Browsing</h3>
        <dl class="keyboard-mappings">
          <dt>t</dt>
          <dd>Activates the file finder</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>l</dt>
          <dd>Jump to line</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>w</dt>
          <dd>Switch branch/tag</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>y</dt>
          <dd>Expand URL to its canonical form</dd>
        </dl>
      </div>
    </div>
  </div>

  <div class="js-hidden-pane" style='display:none'>
    <div class="rule"></div>
    <div class="columns threecols">
      <div class="column first">
        <h3>Browsing Commits</h3>
        <dl class="keyboard-mappings">
          <dt><span class="platform-mac"></span><span class="platform-other">ctrl</span> <em>+</em> enter</dt>
          <dd>Submit comment</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>escape</dt>
          <dd>Close form</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>p</dt>
          <dd>Parent commit</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>o</dt>
          <dd>Other parent commit</dd>
        </dl>
      </div>
    </div>
  </div>

  <div class="js-hidden-pane" style='display:none'>
    <div class="rule"></div>
    <h3>Notifications</h3>

    <div class="columns threecols">
      <div class="column first">
        <dl class="keyboard-mappings">
          <dt>j</dt>
          <dd>Move selection down</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>k</dt>
          <dd>Move selection up</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>o <em>or</em> enter</dt>
          <dd>Open notification</dd>
        </dl>
      </div><!-- /.column.first -->

      <div class="column second">
        <dl class="keyboard-mappings">
          <dt>e <em>or</em> shift i <em>or</em> y</dt>
          <dd>Mark as read</dd>
        </dl>
        <dl class="keyboard-mappings">
          <dt>shift m</dt>
          <dd>Mute thread</dd>
        </dl>
      </div><!-- /.column.first -->
    </div>
  </div>

</div>

    <div id="markdown-help" class="instapaper_ignore readability-extra">
  <h2>Markdown Cheat Sheet</h2>

  <div class="cheatsheet-content">

  <div class="mod">
    <div class="col">
      <h3>Format Text</h3>
      <p>Headers</p>
      <pre>
# This is an &lt;h1&gt; tag
## This is an &lt;h2&gt; tag
###### This is an &lt;h6&gt; tag</pre>
     <p>Text styles</p>
     <pre>
*This text will be italic*
_This will also be italic_
**This text will be bold**
__This will also be bold__

*You **can** combine them*
</pre>
    </div>
    <div class="col">
      <h3>Lists</h3>
      <p>Unordered</p>
      <pre>
* Item 1
* Item 2
  * Item 2a
  * Item 2b</pre>
     <p>Ordered</p>
     <pre>
1. Item 1
2. Item 2
3. Item 3
   * Item 3a
   * Item 3b</pre>
    </div>
    <div class="col">
      <h3>Miscellaneous</h3>
      <p>Images</p>
      <pre>
![GitHub Logo](/images/logo.png)
Format: ![Alt Text](url)
</pre>
     <p>Links</p>
     <pre>
http://github.com - automatic!
[GitHub](http://github.com)</pre>
<p>Blockquotes</p>
     <pre>
As Kanye West said:

> We're living the future so
> the present is our past.
</pre>
    </div>
  </div>
  <div class="rule"></div>

  <h3>Code Examples in Markdown</h3>
  <div class="col">
      <p>Syntax highlighting with <a href="http://github.github.com/github-flavored-markdown/" title="GitHub Flavored Markdown" target="_blank">GFM</a></p>
      <pre>
```javascript
function fancyAlert(arg) {
  if(arg) {
    $.facebox({div:'#foo'})
  }
}
```</pre>
    </div>
    <div class="col">
      <p>Or, indent your code 4 spaces</p>
      <pre>
Here is a Python code example
without syntax highlighting:

    def foo:
      if not bar:
        return true</pre>
    </div>
    <div class="col">
      <p>Inline code for comments</p>
      <pre>
I think you should use an
`&lt;addr&gt;` element here instead.</pre>
    </div>
  </div>

  </div>
</div>


    <div id="ajax-error-message" class="flash flash-error">
      <span class="mini-icon mini-icon-exclamation"></span>
      Something went wrong with that request. Please try again.
      <a href="#" class="mini-icon mini-icon-remove-close ajax-error-dismiss"></a>
    </div>

    
    
    <span id='server_response_time' data-time='0.08390' data-host='fe16'></span>
    
  </body>
</html>

