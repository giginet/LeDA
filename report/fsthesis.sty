%%
%% This is file `fsthesis.sty', by knishida
%%
%% jreportクラス用スタイルファイル 12pt想定
%%
\NeedsTeXFormat{pLaTeX2e}
\ProvidesPackage{fsthesis}
   [2004/01/30 v1.0 for bachelor/master thesis @fslab]

%\pagestyle{footnombre}  %ページ番号を右下に

% package宣言
\usepackage[dvips]{graphicx}
\usepackage[fleqn]{amsmath}
% \usepackage{cite}
% \usepackage{palatino}
% \usepackage{indentfirst}
% \usepackage{enumerate}
% \usepackage[tight]{subfigure}
% algorithm使用
% \usepackage[ruled,chapter]{algorithm}
% \usepackage{algorithmic}
% \renewcommand{\algorithmiccomment}[1] {//\,#1}
% \newcommand{\bi}[1]{\ensuremath{\boldsymbol{#1}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% maketitle
\def\thesisname#1{\def\@thesisname{#1}}
\def\univname#1{\def\@univname{#1}}
\def\facultyname#1{\def\@facultyname{#1}}
\def\deptname#1{\def\@deptname{#1}}
\def\coursename#1{\def\@coursename{#1}}
\def\fieldname#1{\def\@fieldname{#1}}
\def\labname#1{\def\@labname{#1}}
\def\engtitle#1{\def\@engtitle{#1}}

% 年度名
\def\@yearname{%
\def\@heisei{\year}%
\advance\@heisei-1988%
\ifnum \month<4 \advance\@heisei-1 \fi%
平成%
\ifnum \@heisei=1 元%
\else \number\@heisei%
\fi%
年度\ \@thesisname
}

\renewcommand{\maketitle}{%
\begin{titlepage}%
  \let\footnotesize\small%
  \let\footnoterule\relax%
  \let\footnote\thanks%
  \null\vfil%
  \vskip 60\p@%
  \begin{center}%
    {\Large \@yearname \par}%
    \vskip 1em%
    {\LARGE \@title \par}%
    \vskip 1em%
	{\LARGE \textit{\@engtitle} \par}%
    \vskip 12em%
    \vskip 1em%
    \lineskip .75em%
    {\Large \@univname \hskip .5em \@facultyname \par}
    \vskip .0em
    {\Large \@deptname \hskip .5em \@coursename \par}
    \vskip .0em
    {\Large \@fieldname \hskip .5em \@labname \par}
    \vskip 1.0em%
    {\Large \@author \par}%
    \vskip 1.5em%
    {\Large \@date \par}%   
  \end{center}\par%
  \@thanks\vfil\null%
  \end{titlepage}%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% layout

\renewcommand{\baselinestretch}{1.15}

\setlength{\paperwidth}{597pt}
\setlength{\paperheight}{845pt}

\setlength{\hoffset}{10pt}
\setlength{\voffset}{10pt}
\setlength{\topmargin}{0pt}
\setlength{\headheight}{0pt}
\setlength{\headsep}{0pt}
\setlength{\topskip}{0pt}
\setlength{\oddsidemargin}{0pt}
\setlength{\evensidemargin}{0pt}
\setlength{\marginparwidth}{72pt}
\setlength{\marginparsep}{10pt}
\setlength{\textwidth}{433pt}  % paperwidth - (hoffset + 72pt) - (marginparwidth + marginparsep)
%\setlength{\textheight}{681pt} % paperheight - ((voffset + 72pt) * 2)
\setlength{\textheight}{672pt} %

%\setlength{\footskip}{41pt} 
\setlength{\footskip}{50pt}    % 本文とフッタ領域の間隔


% 太線
\def\Hline{\noalign{\hrule height 0.4mm}}

% 関連図書->参考文献
\renewcommand{\bibname}{参考文献}

% 脚注表示の変更
\renewcommand{\thefootnote}{（\arabic{footnote}）}

% 表番号表示の変更
\renewcommand{\thetable}{\arabic{chapter}.\arabic{table}}

%%%% enumerateの再定義
\renewenvironment{enumerate}
  {\ifnum \@enumdepth >\thr@@\@toodeep\else
   \advance\@enumdepth\@ne
   \edef\@enumctr{enum\romannumeral\the\@enumdepth}%
   \list{\csname label\@enumctr\endcsname}{%
      \iftdir
         \ifnum \@listdepth=\@ne \topsep.5\normalbaselineskip
           \else\topsep\z@\fi
	 \parskip\z@ \itemsep\z@ \parsep\z@
         \labelwidth1zw \labelsep.3zw
         \ifnum \@enumdepth=\@ne \leftmargin1zw\relax
           \else\leftmargin\leftskip\fi
         \advance\leftmargin 1zw
      \fi
	 \listparindent1zw
         \usecounter{\@enumctr}%
         \def\makelabel##1{\hss\llap{##1}}}%
   \fi}{\endlist}

% 最上位連番の表示変更 1. 2. -> (i) (ii)
\renewcommand{\theenumi}{\roman{enumi}}
\renewcommand{\labelenumi}{(\theenumi)}


% captionのコロンを取る
\long\def\@makecaption#1#2{%
  \vskip\abovecaptionskip%
  \iftdir\sbox\@tempboxa{#1\hskip1zw#2}%
    \else\sbox\@tempboxa{#1‾ #2}% 
  \fi%
  \ifdim \wd\@tempboxa >\hsize% 
    \iftdir #1\hskip1zw#2\relax\par%
      \else #1‾ #2\relax\par\fi% 
  \else%
    \global \@minipagefalse%
    \hbox to\hsize{\hfil\box\@tempboxa\hfil}%
  \fi%
  \vskip\belowcaptionskip}

% chapterで改行入れる
\def\@makechapterhead#1{\hbox{}%
  \vskip2\Cvs
  {\parindent\z@
   \raggedright
   \reset@font\huge\bfseries
   \leavevmode
   \ifnum \c@secnumdepth >\m@ne
     \setlength\@tempdima{\linewidth}%
     \setbox\z@\hbox{\@chapapp\thechapter\@chappos\hskip1zw}%
     \addtolength\@tempdima{-\wd\z@}%
     \unhbox\z@\par % この行を変更; % \unhbox\z@\nobreak
     \vtop{\hsize\@tempdima#1}%
   \else
     #1\relax
   \fi}\nobreak\vskip2\Cvs} % 2 <- 3に変更

% subsubsectionの再定義
\renewcommand{\thesubsubsection}{(\Alph{subsubsection})}
\renewcommand{\subsubsection}[1]{%
\refstepcounter{subsubsection}%
\addcontentsline{toc}{subsubsection}{%
\protect\numberline{\thesubsubsection}#1}%
\par\vspace{.4\Cvs plus.4\Cdp minus.2\Cdp}%
{\large\bfseries%
\noindent{}{%
\thesubsubsection\hspace{.5zw}  % 番号を付けるなら
#1}}%
\par\vspace{.3\Cvs plus.4\Cdp}%
}%

% mysectionの定義
\newcommand{\mysection}[1]{%
%\refstepcounter{mysection}%
%\addcontentsline{toc}{subsubsection}{%
%protect\numberline{\thesubsubsection}#1}%
\par\vspace{.3\Cvs plus.3\Cdp minus.2\Cdp}%
{\normalsize \bfseries %
\noindent{}{%
%\thesubsubsection\hspace{.5zw}  % 番号を付けるなら
#1}}%
\par\vspace{.2\Cvs plus.3\Cdp}%
}%

% fontのエラー消し
\DeclareRelationFont{JY1}{mc}{it}{}{OT1}{cmr}{it}{}
\DeclareRelationFont{JT1}{mc}{it}{}{OT1}{cmr}{it}{}
\DeclareFontShape{JY1}{mc}{m}{it}{<5> <6> <7> <8> <9> <10> sgen*min
    <10.95><12><14.4><17.28><20.74><24.88> min10
    <-> min10}{}
\DeclareFontShape{JT1}{mc}{m}{it}{<5> <6> <7> <8> <9> <10> sgen*tmin
    <10.95><12><14.4><17.28><20.74><24.88> tmin10
    <-> tmin10}{}
\DeclareRelationFont{JY1}{mc}{sl}{}{OT1}{cmr}{sl}{}
\DeclareRelationFont{JT1}{mc}{sl}{}{OT1}{cmr}{sl}{}
\DeclareFontShape{JY1}{mc}{m}{sl}{<5> <6> <7> <8> <9> <10> sgen*min
    <10.95><12><14.4><17.28><20.74><24.88> min10
    <-> min10}{}
\DeclareFontShape{JT1}{mc}{m}{sl}{<5> <6> <7> <8> <9> <10> sgen*tmin
    <10.95><12><14.4><17.28><20.74><24.88> tmin10
    <-> tmin10}{}
\DeclareRelationFont{JY1}{mc}{sc}{}{OT1}{cmr}{sc}{}
\DeclareRelationFont{JT1}{mc}{sc}{}{OT1}{cmr}{sc}{}
\DeclareFontShape{JY1}{mc}{m}{sc}{<5> <6> <7> <8> <9> <10> sgen*min
    <10.95><12><14.4><17.28><20.74><24.88> min10
    <-> min10}{}
\DeclareFontShape{JT1}{mc}{m}{sc}{<5> <6> <7> <8> <9> <10> sgen*tmin
    <10.95><12><14.4><17.28><20.74><24.88> tmin10
    <-> tmin10}{}
\DeclareRelationFont{JY1}{gt}{it}{}{OT1}{cmbx}{it}{}
\DeclareRelationFont{JT1}{gt}{it}{}{OT1}{cmbx}{it}{}
\DeclareFontShape{JY1}{mc}{bx}{it}{<5> <6> <7> <8> <9> <10> sgen*goth
    <10.95><12><14.4><17.28><20.74><24.88> goth10
    <-> goth10}{}
\DeclareFontShape{JT1}{mc}{bx}{it}{<5> <6> <7> <8> <9> <10> sgen*tgoth
    <10.95><12><14.4><17.28><20.74><24.88> tgoth10
    <-> tgoth10}{}
\DeclareRelationFont{JY1}{gt}{sl}{}{OT1}{cmbx}{sl}{}
\DeclareRelationFont{JT1}{gt}{sl}{}{OT1}{cmbx}{sl}{}
\DeclareFontShape{JY1}{mc}{bx}{sl}{<5> <6> <7> <8> <9> <10> sgen*goth
    <10.95><12><14.4><17.28><20.74><24.88> goth10
    <-> goth10}{}
\DeclareFontShape{JT1}{mc}{bx}{sl}{<5> <6> <7> <8> <9> <10> sgen*tgoth
    <10.95><12><14.4><17.28><20.74><24.88> tgoth10
    <-> tgoth10}{}
\DeclareRelationFont{JY1}{gt}{sc}{}{OT1}{cmbx}{sc}{}
\DeclareRelationFont{JT1}{gt}{sc}{}{OT1}{cmbx}{sc}{}
\DeclareFontShape{JY1}{mc}{bx}{sc}{<5> <6> <7> <8> <9> <10> sgen*goth
    <10.95><12><14.4><17.28><20.74><24.88> goth10
    <-> goth10}{}
\DeclareFontShape{JT1}{mc}{bx}{sc}{<5> <6> <7> <8> <9> <10> sgen*tgoth
    <10.95><12><14.4><17.28><20.74><24.88> tgoth10
    <-> tgoth10}{}
\DeclareRelationFont{JY1}{gt}{it}{}{OT1}{cmr}{it}{}
\DeclareRelationFont{JT1}{gt}{it}{}{OT1}{cmr}{it}{}
\DeclareFontShape{JY1}{gt}{m}{it}{<5> <6> <7> <8> <9> <10> sgen*goth
    <10.95><12><14.4><17.28><20.74><24.88> goth10
    <-> goth10}{}
\DeclareFontShape{JT1}{gt}{m}{it}{<5> <6> <7> <8> <9> <10> sgen*tgoth
    <10.95><12><14.4><17.28><20.74><24.88> tgoth10
    <-> tgoth10}{}

\endinput
%%
%% End of file `bthesis.sty'.

